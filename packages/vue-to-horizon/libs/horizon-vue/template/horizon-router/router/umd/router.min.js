!(function (t, e) {
  'object' == typeof exports && 'undefined' != typeof module
    ? e(exports, require('@cloudsop/horizon'), require('@cloudsop/horizon/jsx-runtime'))
    : 'function' == typeof define && define.amd
      ? define(['exports', '@cloudsop/horizon', '@cloudsop/horizon/jsx-runtime'], e)
      : e(((t = 'undefined' != typeof globalThis ? globalThis : t || self).HorizonRouter = {}), t.Inula, t.jsxRuntime);
})(this, function (t, e, n) {
  'use strict';
  function r(t) {
    return t && 'object' == typeof t && 'default' in t ? t : { default: t };
  }
  var o = r(e);
  function a(t, e) {
    e(window.confirm(t));
  }
  function i() {
    return (
      'undefined' != typeof window &&
      window.document &&
      'function' == typeof window.document.createElement &&
      window.history &&
      'pushState' in window.history
    );
  }
  function u() {
    return -1 === window.navigator.userAgent.indexOf('Trident');
  }
  var c = (function (t) {
      return ((t.pop = 'POP'), (t.push = 'PUSH'), (t.replace = 'REPLACE'), t);
    })({}),
    s = (function (t) {
      return ((t.PopState = 'popstate'), (t.HashChange = 'hashchange'), t);
    })({}),
    l = (function (t) {
      return ((t.back = 'back'), (t.forward = 'forward'), (t.unknown = ''), t);
    })({});
  function f() {
    return (
      (f = Object.assign
        ? Object.assign.bind()
        : function (t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = arguments[e];
              for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
            }
            return t;
          }),
      f.apply(this, arguments)
    );
  }
  function h(t) {
    var e = t.search,
      n = t.hash,
      r = t.pathname || '/';
    return (
      e && '?' !== e && (r += e.startsWith('?') ? e : '?' + e),
      n && '#' !== n && (r += n.startsWith('#') ? n : '#' + n),
      r
    );
  }
  function p(t) {
    var e = t || '/',
      n = { search: '', hash: '' },
      r = t.indexOf('#');
    if (r > -1) {
      var o = t.substring(r);
      ((n.hash = '#' === o ? '' : o), (e = e.substring(0, r)));
    }
    var a = t.indexOf('?');
    if (a > -1) {
      var i = t.substring(a);
      ((n.search = '?' === i ? '' : i), (e = e.substring(0, a)));
    }
    return ((n.pathname = e), n);
  }
  function d(t, e, n, r) {
    var o,
      a = 'string' == typeof t ? t : t.pathname,
      i = 'string' == typeof e ? p(e) : e,
      u =
        ((o = 6 + 2),
        function () {
          return Math.random().toString(18).substring(2, o);
        }),
      c = f({ pathname: a, search: '', hash: '', state: n, key: 'string' == typeof r ? r : u() }, i);
    return (
      c.pathname
        ? c.pathname.startsWith('/') ||
          (c.pathname = (function (t, e) {
            if (t.startsWith('/')) return t;
            var n = e.split('/'),
              r = t.split('/'),
              o = r[r.length - 1];
            ('..' !== o && '.' !== o) || r.push('');
            var a,
              i = n.length - 1,
              u = 0;
            for (; u < r.length; )
              if ('.' !== (a = r[u])) {
                if ('..' !== a) break;
                (i > 1 && i--, u++);
              }
            return n.slice(0, i).join('/') + '/' + r.slice(u).join('/');
          })(c.pathname, a))
        : (c.pathname = a || '/'),
      c.search && '?' !== c.search[0] && (c.search = '?' + c.search),
      c.hash && '#' !== c.hash[0] && (c.hash = '#' + c.hash),
      c
    );
  }
  function v(t, e) {
    return t.pathname === e.pathname && t.search === e.search && t.hash === e.hash;
  }
  function m(t) {
    return '/' === t[0] ? t : '/' + t;
  }
  function y(t) {
    return '/' === t[0] ? t.substring(1) : t;
  }
  function g(t) {
    var e = m(t);
    return '/' === e[e.length - 1] ? e.substring(0, e.length - 1) : e;
  }
  function w(t, e) {
    return (function (t, e) {
      return 0 === t.toLowerCase().indexOf(e.toLowerCase()) && ['/', '?', '#', ''].includes(t.charAt(e.length));
    })(t, e)
      ? t.substring(e.length)
      : t;
  }
  function b(t, e) {
    var n = [e(t)];
    return {
      getDelta: function (t, r) {
        var o = n.lastIndexOf(e(t));
        -1 === o && (o = 0);
        var a = n.lastIndexOf(e(r));
        return (-1 === a && (a = 0), o - a);
      },
      addRecord: function (t, r, o) {
        var a = e(t),
          i = e(r);
        if (o === c.push) {
          var u = n.lastIndexOf(a),
            s = n.slice(0, u + 1);
          (s.push(i), (n = s));
        }
        if (o === c.replace) {
          var l = n.lastIndexOf(a);
          -1 !== l && (n[l] = i);
        }
      },
    };
  }
  function x(t) {
    return (
      (x =
        'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
          ? function (t) {
              return typeof t;
            }
          : function (t) {
              return t && 'function' == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype
                ? 'symbol'
                : typeof t;
            }),
      x(t)
    );
  }
  function S(t) {
    var e = (function (t, e) {
      if ('object' != x(t) || !t) return t;
      var n = t[Symbol.toPrimitive];
      if (void 0 !== n) {
        var r = n.call(t, e || 'default');
        if ('object' != x(r)) return r;
        throw new TypeError('@@toPrimitive must return a primitive value.');
      }
      return ('string' === e ? String : Number)(t);
    })(t, 'string');
    return 'symbol' == x(e) ? e : String(e);
  }
  function k(t, e) {
    for (var n = 0; n < e.length; n++) {
      var r = e[n];
      ((r.enumerable = r.enumerable || !1),
        (r.configurable = !0),
        'value' in r && (r.writable = !0),
        Object.defineProperty(t, S(r.key), r));
    }
  }
  var C = (function () {
    function t() {
      (!(function (t, e) {
        if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function');
      })(this, t),
        (this.prompt = void 0),
        (this.prompt = null));
    }
    var e, n, r;
    return (
      (e = t),
      (n = [
        {
          key: 'setPrompt',
          value: function (t) {
            var e = this;
            return (
              (this.prompt = t),
              function () {
                e.prompt === t && (e.prompt = null);
              }
            );
          },
        },
        {
          key: 'confirmJumpTo',
          value: function (t, e, n, r) {
            if (null !== this.prompt) {
              var o = 'function' == typeof this.prompt ? this.prompt(t, e) : this.prompt;
              'string' == typeof o ? ('function' == typeof n ? n(o, r) : r(!0)) : r(!1 !== o);
            } else r(!0);
          },
        },
      ]) && k(e.prototype, n),
      r && k(e, r),
      Object.defineProperty(e, 'prototype', { writable: !1 }),
      t
    );
  })();
  function R(t, e) {
    t && console && 'function' == typeof console.warn && console.warn(e);
  }
  function P(t, e) {
    var n = ('undefined' != typeof Symbol && t[Symbol.iterator]) || t['@@iterator'];
    if (!n) {
      if (
        Array.isArray(t) ||
        (n = (function (t, e) {
          if (t) {
            if ('string' == typeof t) return j(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              'Object' === n && t.constructor && (n = t.constructor.name),
              'Map' === n || 'Set' === n
                ? Array.from(t)
                : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? j(t, e)
                  : void 0
            );
          }
        })(t)) ||
        (e && t && 'number' == typeof t.length)
      ) {
        n && (t = n);
        var r = 0,
          o = function () {};
        return {
          s: o,
          n: function () {
            return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
          },
          e: function (t) {
            throw t;
          },
          f: o,
        };
      }
      throw new TypeError(
        'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
      );
    }
    var a,
      i = !0,
      u = !1;
    return {
      s: function () {
        n = n.call(t);
      },
      n: function () {
        var t = n.next();
        return ((i = t.done), t);
      },
      e: function (t) {
        ((u = !0), (a = t));
      },
      f: function () {
        try {
          i || null == n.return || n.return();
        } finally {
          if (u) throw a;
        }
      },
    };
  }
  function j(t, e) {
    (null == e || e > t.length) && (e = t.length);
    for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
    return r;
  }
  function A() {
    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 'browser',
      e = arguments.length > 1 ? arguments[1] : void 0,
      n = arguments.length > 2 ? arguments[2] : void 0,
      r = 0,
      o = u(),
      a = [],
      i = [],
      p = window.history,
      d = !1;
    function v(e) {
      (null === e ? (r = 0) : (r += e),
        1 === r && 1 === e
          ? 'browser' === t && o
            ? addEventListener(s.PopState, n)
            : addEventListener(s.HashChange, n)
          : 0 === r &&
            ('browser' === t && o ? removeEventListener(s.PopState, n) : removeEventListener(s.HashChange, n)));
    }
    var m = !1;
    return {
      go: function (t) {
        ((!(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]) && (d = !0), p.go(t));
      },
      addListener: function (t) {
        var e = !0,
          n = {
            type: t.type,
            trigger: function (n) {
              e &&
                ('common' === t.type && 'action' in n
                  ? t.listener(n)
                  : 'pop' === t.type && 'to' in n && t.listener(n.to, n.from, n.information));
            },
          };
        (a.push(n), v(1));
        var r = function () {
          ((e = !1),
            v(-1),
            (a = a.filter(function (t) {
              return t !== n;
            })));
        };
        return (i.push(r), r);
      },
      block: function () {
        var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
          n = e.setPrompt(t);
        return (
          m || (v(1), (m = !0)),
          function () {
            (m && ((m = !1), v(-1)), n());
          }
        );
      },
      destroy: function () {
        var t,
          e = P(i);
        try {
          for (e.s(); !(t = e.n()).done; ) {
            (0, t.value)();
          }
        } catch (t) {
          e.e(t);
        } finally {
          e.f();
        }
        ((i.length = 0), v(null));
      },
      getUpdateStateFunc: function (t) {
        return function (e) {
          var n = h(t.location);
          e && f(t, e);
          var r = p.length - t.length;
          t.length = p.length;
          for (
            var o = f({}, t.location),
              i = { location: o, action: t.action },
              u = { to: h(o), from: n, information: { delta: r, direction: r > 0 ? l.forward : l.back, type: c.pop } },
              s = 0;
            s < a.length && !d;
            s++
          ) {
            var v = a[s];
            'common' === v.type ? v.trigger(i) : 'pop' === v.type && t.action === c.pop && v.trigger(u);
          }
          d = !1;
        };
      },
    };
  }
  function E() {
    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
      e = i(),
      n = u(),
      r = window.history,
      o = t.forceRefresh,
      l = void 0 !== o && o,
      f = t.getUserConfirmation,
      p = void 0 === f ? a : f,
      v = t.basename ? g(t.basename) : '',
      m = M(T()),
      y = b(m, function (t) {
        return t.key;
      }),
      x = new C(),
      S = A('browser', x, function (e) {
        var r = n && B(e) ? e.state : T();
        !(function (t) {
          if (U) ((U = !1), H(void 0));
          else {
            var e = c.pop,
              n = function (n) {
                var r, o, a;
                n
                  ? H({ action: e, location: t })
                  : ((r = t), (o = O.location), 0 !== (a = y.getDelta(o, r)) && (k(a), (U = !0)));
              };
            x.confirmJumpTo(t, e, p, n);
          }
        })((t.locationHandler ? t.locationHandler : M)(r));
      }),
      k = S.go,
      P = S.addListener,
      j = S.block,
      E = S.destroy,
      L = S.getUpdateStateFunc,
      O = {
        action: c.pop,
        length: r.length,
        location: m,
        go: k,
        goBack: function () {
          return k(-1);
        },
        goForward: function () {
          return k(-1);
        },
        listen: function (t) {
          return P({ type: 'common', listener: t });
        },
        addListener: P,
        block: j,
        push: function (t, n) {
          var o = c.push,
            a = d(O.location, t, n, void 0);
          x.confirmJumpTo(a, o, p, function (t) {
            if (t) {
              var n = $(a),
                i = a.key,
                u = a.state;
              e
                ? l
                  ? (window.location.href = n)
                  : (r.pushState({ key: i, state: u }, '', n),
                    y.addRecord(O.location, a, o),
                    H({ action: o, location: a }))
                : (R(void 0 !== u, 'Browser history cannot push state in browsers that do not support HTML5 history'),
                  (window.location.href = n));
            }
          });
        },
        replace: function (t, n) {
          var o = c.replace,
            a = d(O.location, t, n, void 0);
          x.confirmJumpTo(a, o, p, function (t) {
            if (t) {
              var n = $(a),
                i = a.key,
                u = a.state;
              e
                ? l
                  ? window.location.replace(n)
                  : (r.replaceState({ key: i, state: u }, '', n),
                    y.addRecord(O.location, a, o),
                    H({ action: o, location: a }))
                : (R(void 0 !== u, 'Browser history cannot push state in browsers that do not support HTML5 history'),
                  window.location.replace(n));
            }
          });
        },
        destroy: E,
        createHref: $,
      },
      H = L(O);
    function T() {
      return e ? window.history.state : {};
    }
    function M(t) {
      var e = window.location,
        n = e.search,
        r = e.hash,
        o = t || {},
        a = o.key,
        i = o.state,
        u = window.location.pathname;
      return d('', { pathname: (u = v ? w(u, v) : u), search: n, hash: r }, i, a);
    }
    var U = !1;
    var B = function (t) {
      return t.type === s.PopState;
    };
    function $(e) {
      return (t.baseHandler ? t.baseHandler() : v) + h(e);
    }
    return O;
  }
  function L(t) {
    var e = t.indexOf('#');
    return -1 === e ? t : t.substring(0, e);
  }
  function O(t) {
    var e = t.indexOf('#');
    return -1 === e ? '' : t.substring(e + 1);
  }
  function H() {
    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
      e = window.history,
      n = t.hashType,
      r = void 0 === n ? 'slash' : n,
      o = t.getUserConfirmation,
      i = void 0 === o ? a : o,
      u = t.basename ? g(t.basename) : '',
      s = m,
      l = 'slash' === r ? m : y,
      f = O(window.location.href),
      p = l(f);
    function x() {
      var t = s(O(window.location.hash));
      return (u && (t = w(t, u)), d('', t, void 0, 'default'));
    }
    f !== p && window.location.replace(L(window.location.href) + '#' + p);
    var S = x(),
      k = b(S, h),
      P = new C();
    var j = !1,
      E = null,
      H = A('hash', P, function () {
        var t = O(window.location.href),
          e = l(t);
        if (t !== e) window.location.replace(L(window.location.href) + '#' + e);
        else {
          var n = x(),
            r = D.location;
          if (!j && v(n, r)) return;
          if (E === h(n)) return;
          ((E = null),
            (function (t) {
              if (j) ((j = !1), I(void 0));
              else {
                var e = c.pop,
                  n = function (n) {
                    var r, o, a;
                    n
                      ? I({ action: e, location: t })
                      : ((r = t), (o = D.location), 0 !== (a = k.getDelta(o, r)) && (T(a), (j = !0)));
                  };
                P.confirmJumpTo(t, e, i, n);
              }
            })(n));
        }
      }),
      T = H.go,
      M = H.addListener,
      U = H.block,
      B = H.destroy,
      $ = H.getUpdateStateFunc,
      D = {
        action: c.pop,
        length: e.length,
        location: S,
        go: T,
        goBack: function () {
          return T(-1);
        },
        goForward: function () {
          return T(1);
        },
        push: function (t, e) {
          R(void 0 !== e, 'Hash history does not support state, it will be ignored');
          var n = c.push,
            r = d(D.location, t, e, '');
          P.confirmJumpTo(r, n, i, function (t) {
            if (t) {
              var e = h(r),
                o = l(u + e);
              O(window.location.href) !== o
                ? ((E = o), (window.location.hash = o), k.addRecord(D.location, r, n), I({ action: n, location: r }))
                : I(void 0);
            }
          });
        },
        replace: function (t, e) {
          R(void 0 !== e, 'Hash history does not support state, it will be ignored');
          var n = c.replace,
            r = d(D.location, t, e, '');
          P.confirmJumpTo(r, n, i, function (t) {
            if (t) {
              var e = h(r),
                o = l(u + e);
              (O(window.location.href) !== o && ((E = e), window.location.replace(L(window.location.href) + '#' + o)),
                k.addRecord(D.location, r, n),
                I({ action: n, location: r }));
            }
          });
        },
        listen: function (t) {
          return M({ type: 'common', listener: t });
        },
        addListener: M,
        block: U,
        destroy: B,
        createHref: function (t) {
          var e = document.querySelector('base');
          return (e && e.getAttribute('href') ? L(window.location.href) : '') + '#' + l(u + h(t));
        },
      },
      I = $(D);
    return D;
  }
  var T,
    M,
    U,
    B = ((T = 'Router'), (M = {}), ((U = e.createContext(M)).displayName = T), U),
    $ = (function (t) {
      return (
        (t.Delimiter = 'delimiter'),
        (t.Static = 'static'),
        (t.Param = 'param'),
        (t.WildCard = 'wildcard'),
        (t.LBracket = '('),
        (t.RBracket = ')'),
        (t.Pattern = 'pattern'),
        t
      );
    })({});
  function D(t) {
    return t.replace(/([.+*?=^!:${}()[\]|/\\])/g, '\\$1');
  }
  var I = /[^/:()*?$^+]/;
  function W(t, e) {
    var n = ('undefined' != typeof Symbol && t[Symbol.iterator]) || t['@@iterator'];
    if (!n) {
      if (
        Array.isArray(t) ||
        (n = (function (t, e) {
          if (t) {
            if ('string' == typeof t) return N(t, e);
            var n = {}.toString.call(t).slice(8, -1);
            return (
              'Object' === n && t.constructor && (n = t.constructor.name),
              'Map' === n || 'Set' === n
                ? Array.from(t)
                : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? N(t, e)
                  : void 0
            );
          }
        })(t)) ||
        (e && t && 'number' == typeof t.length)
      ) {
        n && (t = n);
        var r = 0,
          o = function () {};
        return {
          s: o,
          n: function () {
            return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
          },
          e: function (t) {
            throw t;
          },
          f: o,
        };
      }
      throw new TypeError(
        'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
      );
    }
    var a,
      i = !0,
      u = !1;
    return {
      s: function () {
        n = n.call(t);
      },
      n: function () {
        var t = n.next();
        return ((i = t.done), t);
      },
      e: function (t) {
        ((u = !0), (a = t));
      },
      f: function () {
        try {
          i || null == n.return || n.return();
        } finally {
          if (u) throw a;
        }
      },
    };
  }
  function N(t, e) {
    (null == e || e > t.length) && (e = t.length);
    for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
    return r;
  }
  var J = (function (t) {
      return (
        (t[(t.static = 10)] = 'static'),
        (t[(t.param = 6)] = 'param'),
        (t[(t.wildcard = 3)] = 'wildcard'),
        (t[(t.placeholder = -1)] = 'placeholder'),
        t
      );
    })(J || {}),
    z = { caseSensitive: !1, strictMode: !1, exact: !1 },
    F = /[.+*?^${}()[\]/\\]/g,
    _ = '[^/]+',
    K = '/#?';
  function q(t) {
    for (
      var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : z,
        n = e.caseSensitive,
        r = void 0 === n ? z.caseSensitive : n,
        o = e.strictMode,
        a = void 0 === o ? z.strictMode : o,
        i = e.exact,
        u = void 0 === i ? z.exact : i,
        c = '^',
        s = [],
        l = [],
        f = (function (t) {
          var e = [];
          if (!t) return e;
          var n = (function (t) {
            return t.replace(/\/+/g, '/');
          })(t);
          if ('*' !== n && !n.startsWith('/')) throw new Error('Url must start with "/".');
          for (
            var r = function () {
                for (var t = ''; a < n.length && I.test(n[a]); ) ((t += n[a]), o(1));
                return t;
              },
              o = function (t) {
                a += t;
              },
              a = 0;
            a < n.length;

          ) {
            var i = n[a],
              u = n[a - 1];
            '/' !== i
              ? '/' !== u || ':' !== i
                ? ('/' !== u && void 0 !== u) || '*' !== i
                  ? '/' === u && I.test(i)
                    ? e.push({ type: $.Static, value: r() })
                    : '(' !== i
                      ? ')' !== i
                        ? ['*', '?', '$', '^', '+'].includes(i)
                          ? (e.push({ type: $.Pattern, value: i }), o(1))
                          : I.test(i)
                            ? e.push({ type: $.Pattern, value: r() })
                            : o(1)
                        : (e.push({ type: $.RBracket, value: ')' }), o(1))
                      : (e.push({ type: $.LBracket, value: '(' }), o(1))
                  : (e.push({ type: $.WildCard, value: n[a] }), o(1))
                : (o(1), e.push({ type: $.Param, value: r() }))
              : (e.push({ type: $.Delimiter, value: n[a] }), o(1));
          }
          return e;
        })(t),
        h = 1 === f.length && f[0].type === $.WildCard,
        p = f.length,
        d = f[p - 1],
        v = 0,
        m = function (t) {
          for (var e = !1; t < f.length && f[t].type !== $.Delimiter; )
            (('?' !== f[t].value && '*' !== f[t].value) || (e = !0), t++);
          return e;
        },
        y = 0;
      y < p;
      y++
    ) {
      var g = f[y],
        w = f[y + 1];
      switch (g.type) {
        case $.Delimiter:
          c += '/' + (m(y + 1) || (void 0 === w && !a) ? '?' : '');
          break;
        case $.Static:
          ((c += g.value.replace(F, '\\$&')),
            w && w.type === $.Pattern && ((c += '(.' + w.value + ')'), s.push(String(v)), v++),
            l.push(J.static));
          break;
        case $.Param:
          var b = '';
          if (w)
            switch (w.type) {
              case $.LBracket:
                for (y += 2; f[y].type !== $.RBracket; ) ((b += f[y].value), y++);
                b = '(' + b + ')';
                break;
              case $.Pattern:
                (y++, (b += '(' + ('*' === w.value ? '.*' : _) + ')' + w.value));
            }
          ((c += b ? '(?:' + b + ')' : '([^/]+)'), s.push(g.value), l.push(J.param));
          break;
        case $.WildCard:
          (s.push(g.value),
            (c += '((?:[^/]+)' + (h ? '?' : '') + '(?:/(?:' + _ + '))*)'),
            l.push(h ? J.wildcard : J.placeholder));
      }
    }
    d.type === $.WildCard || u
      ? (c += a ? '$' : '[' + D(K) + ']?$')
      : (a || (c += '(?:[' + D(K) + '](?=$))?'), d.type !== $.Delimiter && (c += '(?=[' + D(K) + ']|$)'));
    var x = new RegExp(c, r ? '' : 'i');
    return {
      regexp: x,
      keys: s,
      score: l,
      compile: function (t) {
        var e,
          n = '',
          r = W(f);
        try {
          for (r.s(); !(e = r.n()).done; ) {
            var o = e.value;
            switch (o.type) {
              case $.Static:
                n += o.value;
                break;
              case $.Param:
                if (!t[o.value]) throw new Error('Param is invalid.');
                n += t[o.value];
                break;
              case $.WildCard:
                var a = t['*'];
                n += a instanceof Array ? a.join('/') : a;
                break;
              case $.Delimiter:
                n += o.value;
            }
          }
        } catch (t) {
          r.e(t);
        } finally {
          r.f();
        }
        return n;
      },
      parse: function (e) {
        var n = e.match(x);
        if (!n) return null;
        for (var r = n[0], o = {}, a = Array.from(l), i = 1; i < n.length; i++) {
          var u = n[i],
            c = s[i - 1];
          if ('*' === c && u) {
            var f,
              h = u.split('/');
            if (Array.isArray(o['*'])) (f = o['*']).push.apply(f, h);
            else o['*'] = h;
            a.splice.apply(a, [l.indexOf(J.placeholder), 1].concat(new Array(h.length).fill(J.wildcard)));
          } else o[c] = u || void 0;
        }
        return { isExact: e === r, path: t, url: '/' === e && '' === r ? '/' : r, score: a, params: o };
      },
    };
  }
  function V(t, e, n) {
    var r,
      o = [],
      a = W(Array.isArray(e) ? [].concat(e) : [e]);
    try {
      for (a.s(); !(r = a.n()).done; ) {
        var i = q(r.value, n).parse(t);
        i && o.push(i);
      }
    } catch (t) {
      a.e(t);
    } finally {
      a.f();
    }
    return o.length
      ? o.sort(function (t, e) {
          return (function (t, e) {
            for (var n = t.length, r = e.length, o = Math.min(n, r), a = 0; a < o; a++) {
              var i = e[a] - t[a];
              if (0 !== i) return i;
            }
            return n === r ? 0 : n > r ? -1 : 1;
          })(t.score, e.score);
        })[0]
      : null;
  }
  function G() {
    return e.useContext(B).location;
  }
  function Q(t) {
    var r = t.history,
      o = t.children,
      a = void 0 === o ? null : o,
      i = e.useState(t.history.location),
      u = i[0],
      c = i[1],
      s = e.useRef(null),
      l = e.useRef(null),
      f = e.useRef(!1);
    (null === l.current &&
      (l.current = r.listen(function (t) {
        s.current = t.location;
      })),
      e.useLayoutEffect(function () {
        return (
          (f.current = !0),
          l.current && l.current(),
          (l.current = r.listen(function (t) {
            f.current && c(t.location);
          })),
          s.current && c(s.current),
          function () {
            l.current && ((f.current = !1), l.current(), (l.current = null), (s.current = null));
          }
        );
      }, []));
    var h = e.useMemo(
      function () {
        return {
          history: r,
          location: u,
          match: { isExact: '/' === u.pathname, params: {}, path: '/', score: [], url: '/' },
        };
      },
      [u]
    );
    return n.jsx(B.Provider, { value: h, children: a });
  }
  function X(t, e) {
    if (null == t) return {};
    var n,
      r,
      o = {},
      a = Object.keys(t);
    for (r = 0; r < a.length; r++) ((n = a[r]), e.indexOf(n) >= 0 || (o[n] = t[n]));
    return o;
  }
  function Y(t) {
    var n = e.useRef(null),
      r = e.useRef(!1),
      o = t.onMount,
      a = t.onUpdate,
      i = t.onUnmount;
    return (
      e.useLayoutEffect(function () {
        (r.current ? a && (n.current ? a(n.current) : a()) : ((r.current = !0), o && o()), (n.current = t));
      }),
      e.useLayoutEffect(function () {
        return function () {
          i && i();
        };
      }, []),
      null
    );
  }
  var Z = ['state'];
  var tt = ['wrappedComponentRef'];
  var et = ['to', 'replace', 'component', 'onClick', 'target'];
  function nt(t) {
    var n = t.to,
      r = t.replace;
    t.component;
    var a,
      i,
      u = t.onClick,
      c = t.target,
      s = X(t, et),
      l = t.tag || 'a',
      d = e.useContext(B),
      v = d.history,
      m = 'function' == typeof n ? n(d.location) : n;
    if ('string' == typeof m) i = p(m);
    else {
      var y = m.pathname,
        g = m.hash,
        w = m.search;
      ((i = { pathname: y, hash: g, search: w }), (a = m.state));
    }
    var b = f(
      {
        href: v.createHref(i),
        onClick: function (t) {
          try {
            u && u(t);
          } catch (e) {
            throw (t.preventDefault(), e);
          }
          if (
            !t.defaultPrevented &&
            0 === t.button &&
            (function (t) {
              return !t || '_self' === t;
            })(c) &&
            !(function (t) {
              return t.metaKey || t.altKey || t.ctrlKey || t.shiftKey;
            })(t)
          ) {
            var e = h(d.location) === h(i),
              n = r || e ? v.replace : v.push;
            (t.preventDefault(), n(i, a));
          }
        },
      },
      s
    );
    return o.default.createElement(l, b);
  }
  var rt = ['to', 'isActive', 'exact', 'strict', 'sensitive', 'className', 'activeClassName'];
  ((t.BrowserRouter = function (t) {
    var r = e.useRef();
    return (
      (null !== r.current && void 0 !== r.current) ||
        (r.current = E({
          basename: t.basename,
          forceRefresh: t.forceRefresh,
          getUserConfirmation: t.getUserConfirmation,
        })),
      n.jsx(Q, { history: r.current, children: t.children })
    );
  }),
    (t.HashRouter = function (t) {
      var r = e.useRef();
      return (
        (null !== r.current && void 0 !== r.current) ||
          (r.current = H({ basename: t.basename, getUserConfirmation: t.getUserConfirmation, hashType: t.hashType })),
        n.jsx(Q, { history: r.current, children: t.children })
      );
    }),
    (t.Link = nt),
    (t.NavLink = function (t) {
      var r = t.to,
        o = t.isActive,
        a = t.exact,
        i = t.strict,
        u = t.sensitive,
        c = t.className,
        s = t.activeClassName,
        l = X(t, rt),
        h = e.useContext(B),
        d = 'function' == typeof r ? r(h.location) : r,
        v = ('string' == typeof d ? p(d) : d).pathname,
        m = v ? V(h.location.pathname, v, { exact: a, strictMode: i, caseSensitive: u }) : null,
        y = !!(o ? o(m, h.location) : m),
        g = 'function' == typeof c ? c(y) : c;
      y && (g = [s, g].filter(Boolean).join(' '));
      var w = f({ className: g, 'aria-current': y ? 'page' : void 0 }, l);
      return n.jsx(nt, f({ to: r }, w));
    }),
    (t.Prompt = function (t) {
      var r = e.useContext(B),
        o = t.message,
        a = t.when,
        i = void 0 === a || a;
      if (('function' == typeof i && !1 === i(r.location)) || !i) return null;
      var u = r.history.block,
        c = e.useRef(null);
      return n.jsx(Y, {
        onMount: function () {
          c.current = o ? u(o) : null;
        },
        onUpdate: function (t) {
          t && t.data !== o && (c.current && c.current(), (c.current = o ? u(o) : null));
        },
        onUnmount: function () {
          (c.current && c.current(), (c.current = null));
        },
        data: o,
      });
    }),
    (t.Redirect = function (t) {
      var r = t.to,
        o = t.push,
        a = void 0 !== o && o,
        i = t.computed,
        u = e.useContext(B).history,
        c = a ? u.push : u.replace,
        s = (function () {
          if (i) {
            if ('string' == typeof r) return p(q(r).compile(i.params));
            var t = q(r.pathname ? m(r.pathname) : '/').compile(i.params);
            return f({}, r, { pathname: t });
          }
          return 'string' == typeof r ? p(r) : r;
        })(),
        l = s.state,
        h = X(s, Z);
      return n.jsx(Y, {
        onMount: function () {
          c(h, l);
        },
        onUpdate: function (t) {
          v(null == t ? void 0 : t.data, h) || c(h, l);
        },
        data: h,
      });
    }),
    (t.Route = function (t) {
      var r = e.useContext(B),
        o = t.computed,
        a = t.location,
        i = t.path,
        u = t.component,
        c = t.render,
        s = t.strict,
        l = t.sensitive,
        h = t.exact,
        p = t.children,
        d = a || r.location,
        v = f({}, r, {
          location: d,
          match: o || (i ? V(d.pathname, i, { strictMode: s, caseSensitive: l, exact: h }) : r.match),
        });
      return (
        Array.isArray(p) && 0 === e.Children.count(p) && (p = null),
        n.jsx(B.Provider, {
          value: v,
          children: v.match
            ? p
              ? 'function' == typeof p
                ? p(v)
                : p
              : u
                ? e.createElement(u, v)
                : c
                  ? c(v)
                  : null
            : 'function' == typeof p
              ? p(v)
              : null,
        })
      );
    }),
    (t.Router = Q),
    (t.Switch = function (t) {
      var n = e.useContext(B),
        r = t.location || n.location,
        o = null,
        a = null;
      return (
        e.Children.forEach(t.children, function (t) {
          if (null === a && e.isValidElement(t)) {
            o = t;
            var i = t.props,
              u = i.path || i.from;
            a = u ? V(r.pathname, u, { strictMode: i.strict, caseSensitive: i.sensitive, exact: i.exact }) : n.match;
          }
        }),
        a && o ? e.cloneElement(o, { location: r, computed: a }) : null
      );
    }),
    (t.__RouterContext = B),
    (t.createBrowserHistory = E),
    (t.createHashHistory = H),
    (t.generatePath = function (t, e) {
      return q(t).compile(e);
    }),
    (t.matchPath = V),
    (t.useHistory = function () {
      return e.useContext(B).history;
    }),
    (t.useLocation = G),
    (t.useParams = function () {
      var t = e.useContext(B).match;
      return t ? t.params : {};
    }),
    (t.useRouteMatch = function (t) {
      var n = G().pathname,
        r = e.useContext(B).match;
      return t ? V(n, t) : r;
    }),
    (t.withRouter = function (t) {
      return function (r) {
        var o = r.wrappedComponentRef,
          a = X(r, tt),
          i = e.useContext(B);
        return n.jsx(t, f({}, a, i, { ref: o }));
      };
    }),
    Object.defineProperty(t, '__esModule', { value: !0 }));
});
//# sourceMappingURL=router.min.js.map
