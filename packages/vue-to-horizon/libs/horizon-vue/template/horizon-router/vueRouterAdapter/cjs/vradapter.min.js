"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@cloudsop/horizon"),t=require("@cloudsop/horizon/jsx-runtime");function r(e,t){t(window.confirm(e))}function n(){return"undefined"!=typeof window&&window.document&&"function"==typeof window.document.createElement&&window.history&&"pushState"in window.history}function o(){return-1===window.navigator.userAgent.indexOf("Trident")}var a=function(e){return e.pop="POP",e.push="PUSH",e.replace="REPLACE",e}({}),i=function(e){return e.PopState="popstate",e.HashChange="hashchange",e}({}),u=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c.apply(this,arguments)}function l(e){var t=e.search,r=e.hash,n=e.pathname||"/";return t&&"?"!==t&&(n+=t.startsWith("?")?t:"?"+t),r&&"#"!==r&&(n+=r.startsWith("#")?r:"#"+r),n}function s(e,t,r,n){var o,a="string"==typeof e?e:e.pathname,i="string"==typeof t?function(e){var t=e||"/",r={search:"",hash:""},n=e.indexOf("#");if(n>-1){var o=e.substring(n);r.hash="#"===o?"":o,t=t.substring(0,n)}var a=e.indexOf("?");if(a>-1){var i=e.substring(a);r.search="?"===i?"":i,t=t.substring(0,a)}return r.pathname=t,r}(t):t,u=(o=6+2,function(){return Math.random().toString(18).substring(2,o)}),l=c({pathname:a,search:"",hash:"",state:r,key:"string"==typeof n?n:u()},i);return l.pathname?l.pathname.startsWith("/")||(l.pathname=d(l.pathname,a)):l.pathname=a||"/",l.search&&"?"!==l.search[0]&&(l.search="?"+l.search),l.hash&&"#"!==l.hash[0]&&(l.hash="#"+l.hash),l}function f(e){return"/"===e[0]?e:"/"+e}function h(e){var t=f(e);return"/"===t[t.length-1]?t.substring(0,t.length-1):t}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&["/","?","#",""].includes(e.charAt(t.length))}(e,t)?e.substring(t.length):e}function d(e,t){if(e.startsWith("/"))return e;var r=t.split("/"),n=e.split("/"),o=n[n.length-1];".."!==o&&"."!==o||n.push("");for(var a,i=r.length-1,u=0;u<n.length;)if("."!==(a=n[u])){if(".."!==a)break;i>1&&i--,u++}return r.slice(0,i).join("/")+"/"+n.slice(u).join("/")}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:String(t)}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.prompt=void 0,this.prompt=null}var t,r,n;return t=e,(r=[{key:"setPrompt",value:function(e){var t=this;return this.prompt=e,function(){t.prompt===e&&(t.prompt=null)}}},{key:"confirmJumpTo",value:function(e,t,r,n){if(null!==this.prompt){var o="function"==typeof this.prompt?this.prompt(e,t):this.prompt;"string"==typeof o?"function"==typeof r?r(o,n):n(!0):n(!1!==o)}else n(!0)}}])&&y(t.prototype,r),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){e&&console&&"function"==typeof console.warn&&console.warn(t)}function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function x(){var e,t,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=n(),v=o(),m=window.history,y=f.forceRefresh,A=void 0!==y&&y,x=f.getUserConfirmation,R=void 0===x?r:x,E=f.basename?h(f.basename):"",P=B(H()),S=(t=[(e=function(e){return e.key})(P)],{getDelta:function(r,n){var o=t.lastIndexOf(e(r));-1===o&&(o=0);var a=t.lastIndexOf(e(n));return-1===a&&(a=0),o-a},addRecord:function(r,n,o){var i=e(r),u=e(n);if(o===a.push){var c=t.lastIndexOf(i),l=t.slice(0,c+1);l.push(u),t=l}if(o===a.replace){var s=t.lastIndexOf(i);-1!==s&&(t[s]=u)}}}),C=new g,O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=0,s=o(),f=[],h=[],p=window.history,d=!1;function v(t){null===t?n=0:n+=t,1===n&&1===t?"browser"===e&&s?addEventListener(i.PopState,r):addEventListener(i.HashChange,r):0===n&&("browser"===e&&s?removeEventListener(i.PopState,r):removeEventListener(i.HashChange,r))}var m=!1;return{go:function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(d=!0),p.go(e)},addListener:function(e){var t=!0,r={type:e.type,trigger:function(r){t&&("common"===e.type&&"action"in r?e.listener(r):"pop"===e.type&&"to"in r&&e.listener(r.to,r.from,r.information))}};f.push(r),v(1);var n=function(){t=!1,v(-1),f=f.filter((function(e){return e!==r}))};return h.push(n),n},block:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=t.setPrompt(e);return m||(v(1),m=!0),function(){m&&(m=!1,v(-1)),r()}},destroy:function(){var e,t=w(h);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(e){t.e(e)}finally{t.f()}h.length=0,v(null)},getUpdateStateFunc:function(e){return function(t){var r=l(e.location);t&&c(e,t);var n=p.length-e.length;e.length=p.length;for(var o=c({},e.location),i={location:o,action:e.action},s={to:l(o),from:r,information:{delta:n,direction:n>0?u.forward:u.back,type:a.pop}},h=0;h<f.length&&!d;h++){var v=f[h];"common"===v.type?v.trigger(i):"pop"===v.type&&e.action===a.pop&&v.trigger(s)}d=!1}}}}("browser",C,(function(e){var t=v&&_(e)?e.state:H();!function(e){if(U)U=!1,D(void 0);else{var t=a.pop,r=function(r){var n,o,a;r?D({action:t,location:e}):(n=e,o=N.location,0!==(a=S.getDelta(o,n))&&(k(a),U=!0))};C.confirmJumpTo(e,t,R,r)}}((f.locationHandler?f.locationHandler:B)(t))})),k=O.go,I=O.addListener,T=O.block,j=O.destroy,L=O.getUpdateStateFunc,N={action:a.pop,length:m.length,location:P,go:k,goBack:function(){return k(-1)},goForward:function(){return k(-1)},listen:function(e){return I({type:"common",listener:e})},addListener:I,block:T,push:function(e,t){var r=a.push,n=s(N.location,e,t,void 0);C.confirmJumpTo(n,r,R,(function(e){if(e){var t=M(n),o=n.key,a=n.state;d?A?window.location.href=t:(m.pushState({key:o,state:a},"",t),S.addRecord(N.location,n,r),D({action:r,location:n})):(b(void 0!==a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=t)}}))},replace:function(e,t){var r=a.replace,n=s(N.location,e,t,void 0);C.confirmJumpTo(n,r,R,(function(e){if(e){var t=M(n),o=n.key,a=n.state;d?A?window.location.replace(t):(m.replaceState({key:o,state:a},"",t),S.addRecord(N.location,n,r),D({action:r,location:n})):(b(void 0!==a,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.replace(t))}}))},destroy:j,createHref:M},D=L(N);function H(){return d?window.history.state:{}}function B(e){var t=window.location,r=t.search,n=t.hash,o=e||{},a=o.key,i=o.state,u=window.location.pathname;return s("",{pathname:u=E?p(u,E):u,search:r,hash:n},i,a)}var U=!1;var _=function(e){return e.type===i.PopState};function M(e){return(f.baseHandler?f.baseHandler():E)+l(e)}return N}var R=/^[^#]+#/;function E(e){return function(t){return e.replace(R,"#")+t}}function P(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",a={},i="",u="",c=e.indexOf("#"),l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(t=e.slice(0,l),i=e.slice(l+1,c>-1?c:e.length),r=new URLSearchParams(i),a=Object.fromEntries(r.entries())),c>-1&&(t=t||e.slice(0,c),u=e.slice(c,e.length)),{fullPath:(t=d(null!=t?t:e,o))+(i&&"?")+i+u,path:t,query:a,hash:(n=u,decodeURIComponent(String(n)))}}function S(e){for(var t=new URLSearchParams,r=Object.keys(e),n=function(){var r=a[o],n=e[r];Array.isArray(n)?n.forEach((function(e){e&&t.append(r,e)})):null!=n&&t.append(r,n.toString())},o=0,a=r;o<a.length;o++)n();return t.toString()}function C(e,t){return Array.isArray(t)?e.length===t.length&&e.every((function(e,r){return t[r]===e})):1===e.length&&e[0]===t}function O(e,t){var r=e.matched.length-1,n=t.matched.length-1;return r>=-1&&r===n&&e.matched[r]===t.matched[n]&&function(e,t){var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0,a=r;o<a.length;o++){var i=a[o],u=e[i],c=t[i];if(Array.isArray(u)){if(!C(u,c))return!1}else{if(!Array.isArray(c))return e===t;if(!C(c,u))return!1}}return!0}(e.params,t.params)&&S(e.query)===S(t.query)&&e.hash===t.hash}function k(){var e=[];return{add:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},list:function(){return e.slice(0)},clear:function(){return e.length=0}}}function I(e,t){var r=function(e){if(!e)if("undefined"!=typeof document){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),h(e)}(t),n=e.locationHandler?e.locationHandler(r):null,o=e.baseHandler?e.baseHandler(r):null,a=x({basename:r,locationHandler:n,baseHandler:o}),i={base:r,location:"",state:{},go:a.go,push:function(e,t){return a.push(p(e,r),t)},listen:function(e){return a.addListener({type:"pop",listener:e})},listenLocation:function(e){return a.listen(e)},replace:function(e,t){return a.replace(p(e,r),t)},destroy:a.destroy,createHref:E(r)};return Object.defineProperties(i,{location:{enumerable:!0,get:function(){return l(n?n(a.location):a.location)}},state:{enumerable:!0,get:function(){return a.location.state}}}),i}var T={path:"/",params:{},query:{},hash:"",fullPath:"/",meta:{},matched:[]},j=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({}),L=e.createContext(null),N=e.createContext(T),D=e.createContext(null),H=e.createContext({depth:0}),B=function(e){return e.Delimiter="delimiter",e.Static="static",e.Param="param",e.WildCard="wildcard",e.LBracket="(",e.RBracket=")",e.Pattern="pattern",e}({});function U(e,t){for(var r=e.length,n=t.length,o=Math.min(r,n),a=0;a<o;a++){var i=t[a]-e[a];if(0!==i)return i}return r===n?0:r>n?-1:1}function _(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}var M=/[^/:()*?$^+]/;function G(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return W(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var $=function(e){return e[e.static=10]="static",e[e.param=6]="param",e[e.wildcard=3]="wildcard",e[e.placeholder=-1]="placeholder",e}($||{}),q={caseSensitive:!1,strictMode:!1,exact:!1},V=/[.+*?^${}()[\]/\\]/g,F="[^/]+",J="/#?";function K(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q,r=t.caseSensitive,n=void 0===r?q.caseSensitive:r,o=t.strictMode,a=void 0===o?q.strictMode:o,i=t.exact,u=void 0===i?q.exact:i,c="^",l=[],s=[],f=function(e){var t=[];if(!e)return t;var r=function(e){return e.replace(/\/+/g,"/")}(e);if("*"!==r&&!r.startsWith("/"))throw new Error('Url must start with "/".');for(var n=function(){for(var e="";a<r.length&&M.test(r[a]);)e+=r[a],o(1);return e},o=function(e){a+=e},a=0;a<r.length;){var i=r[a],u=r[a-1];"/"!==i?"/"!==u||":"!==i?"/"!==u&&void 0!==u||"*"!==i?"/"===u&&M.test(i)?t.push({type:B.Static,value:n()}):"("!==i?")"!==i?["*","?","$","^","+"].includes(i)?(t.push({type:B.Pattern,value:i}),o(1)):M.test(i)?t.push({type:B.Pattern,value:n()}):o(1):(t.push({type:B.RBracket,value:")"}),o(1)):(t.push({type:B.LBracket,value:"("}),o(1)):(t.push({type:B.WildCard,value:r[a]}),o(1)):(o(1),t.push({type:B.Param,value:n()})):(t.push({type:B.Delimiter,value:r[a]}),o(1))}return t}(e),h=1===f.length&&f[0].type===B.WildCard,p=f.length,d=f[p-1],v=0,m=function(e){for(var t=!1;e<f.length&&f[e].type!==B.Delimiter;)"?"!==f[e].value&&"*"!==f[e].value||(t=!0),e++;return t},y=0;y<p;y++){var g=f[y],b=f[y+1];switch(g.type){case B.Delimiter:c+="/"+(m(y+1)||void 0===b&&!a?"?":"");break;case B.Static:c+=g.value.replace(V,"\\$&"),b&&b.type===B.Pattern&&(c+="(."+b.value+")",l.push(String(v)),v++),s.push($.static);break;case B.Param:var w="";if(b)switch(b.type){case B.LBracket:for(y+=2;f[y].type!==B.RBracket;)w+=f[y].value,y++;w="("+w+")";break;case B.Pattern:y++,w+="("+("*"===b.value?".*":F)+")"+b.value}c+=w?"(?:"+w+")":"([^/]+)",l.push(g.value),s.push($.param);break;case B.WildCard:l.push(g.value),c+="((?:[^/]+)"+(h?"?":"")+"(?:/(?:"+F+"))*)",s.push(h?$.wildcard:$.placeholder)}}d.type===B.WildCard||u?c+=a?"$":"["+_(J)+"]?$":(a||(c+="(?:["+_(J)+"](?=$))?"),d.type!==B.Delimiter&&(c+="(?=["+_(J)+"]|$)"));var A=new RegExp(c,n?"":"i");return{regexp:A,keys:l,score:s,compile:function(e){var t,r="",n=G(f);try{for(n.s();!(t=n.n()).done;){var o=t.value;switch(o.type){case B.Static:r+=o.value;break;case B.Param:if(!e[o.value])throw new Error("Param is invalid.");r+=e[o.value];break;case B.WildCard:var a=e["*"];r+=a instanceof Array?a.join("/"):a;break;case B.Delimiter:r+=o.value}}}catch(e){n.e(e)}finally{n.f()}return r},parse:function(t){var r=t.match(A);if(!r)return null;for(var n=r[0],o={},a=Array.from(s),i=1;i<r.length;i++){var u=r[i],c=l[i-1];if("*"===c&&u){var f,h=u.split("/");if(Array.isArray(o["*"]))(f=o["*"]).push.apply(f,h);else o["*"]=h;a.splice.apply(a,[s.indexOf($.placeholder),1].concat(new Array(h.length).fill($.wildcard)))}else o[c]=u||void 0}return{isExact:t===n,path:e,url:"/"===t&&""===n?"/":n,score:a,params:o}}}}function z(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var X={strict:!1,sensitive:!1};function Y(e,t){var r,n={},o=z(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;a in e&&(n[a]=e[a])}}catch(e){o.e(e)}finally{o.f()}return n}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},n=[],o=new Map;function a(e){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=r(e),s=l.path;if(u&&!s.startsWith("/")){var f=u.path.endsWith("/")?"":"/";l.path=u.path+(s?f+s:"")}var h=function(e,t){var r=K(e.path,t);return{raw:e,path:e.path,score:r.score,parse:r.parse,regexp:r.regexp,compile:r.compile,component:e.component,key:r.keys,children:[]}}(l,function(e,t){var r={};for(var n in e)r[n]=n in t&&null!=t[n]?t[n]:e[n];return r}({exact:!0,caseSensitive:t.sensitive,strictMode:t.strict},{caseSensitive:e.sensitive,strictMode:e.strict}));u&&(h.parent=u,u.children.push(h));var p=h;if(n.push(h),h.raw.name&&o.set(h.raw.name,h),Array.isArray(e.children)&&c){var d,v=z(e.children);try{for(v.s();!(d=v.n()).done;){a(d.value,h)}}catch(e){v.e(e)}finally{v.f()}}return n.sort((function(e,t){var r=U(e.score,t.score);return 0!==r?r:e.parent?-1:1})),p?function(){return i(p)}:function(){}}function i(e){if("string"==typeof(u=e)||void 0===u){var t=o.get(e);if(t){o.delete(e);var r=n.indexOf(t);r>-1&&(n.splice(r,1),t.children.forEach((function(e){return i(e)})))}}else{var a=n.indexOf(e);a>-1&&(n.splice(a,1),e.raw.name&&o.delete(e.raw.name)),e.children.forEach((function(e){return i(e)}))}var u;n.sort((function(e,t){return U(e.score,t.score)}))}return e.forEach((function(e){return a(e)})),{branches:n,addBranch:a,delBranch:i,matchPath:function(e,t){var r,a,i,u={};if("name"in e&&e.name){if(!(a=o.get(e.name)))throw Error("route now found");i=a.raw.name,u=Y(t.params,a.key),e.params&&(u=c(u,Y(e.params,a.key))),r=a.compile(u)}else if(null!=e.path){r=e.path;var l,s=z(n);try{for(s.s();!(l=s.n()).done;){var f=l.value;if(f.regexp.test(r)){a=f;break}}}catch(e){s.e(e)}finally{s.f()}a&&(u=a.parse(r).params,i=a.raw.name)}else{if(a=t.name?o.get(t.name):n.find((function(e){return e.regexp.test(t.path)})),!a)throw Error("route now found");i=a.raw.name,u=c({},t.params,e.params),r=a.compile(u)}for(var h,p=[],d=a;d;)p.push(d.raw),d=d.parent;return p.reverse(),p.length<1&&console.warn('url "'+r+'" has no matched route'),{name:i,path:r,params:u,matched:p,meta:(h=p,h.reduce((function(e,t){return c(e,t.meta)}),{}))}},getNamedBranch:function(e){if(o.has(e))return o.get(e).raw}}}var ee=Symbol("navigation failure");function te(e,t){return c(new Error,(r={type:e},o=!0,(n=m(n=ee))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r),t);var r,n,o}function re(t){var r=e.useContext(L),n=e.useContext(N),o=t.to,a=t.replace,i=e.useMemo((function(){return r.resolve(o)}),[o]),u=e.useMemo((function(){var e=i.matched,t=e.length,r=e[t-1],o=n.matched;if(!r||0===o.length)return-1;var a=o.findIndex((function(e){return e===r}));if(a>-1)return a;var u=e[t-2]?e[t-2].path:"";return t>1&&r.path===u&&o[o.length-1].path!==u?o.findIndex((function(r){return r===e[t-2]})):a}),[i,n]),c=u>-1&&function(e,t){var r,n=function(){var r=t[o],n=e[o];if("string"==typeof r){if(r!==n)return{v:!1}}else if(!Array.isArray(n)||n.length!==r.length||r.some((function(e,t){return e!==n[t]})))return{v:!1}};for(var o in t)if(r=n())return r.v;return!0}(n.params,i.params),l=u>-1&&u===n.matched.length-1&&O(n,i);return{route:i,navigate:function(e){return function(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}(e)?r[a?"replace":"push"](o):Promise.resolve()},isActive:c,isExactActive:l}}var ne=function(e,t,r){return[e,t,r].reduce((function(e,t){return null!=e?e:t}))};function oe(r){var n=e.useContext(L),o=r.to,a=r.replace,i=r.children,u=re({to:o,replace:a}),c=r.activeClass,l=r.exactActiveClass,s=n.option,f=s.linkActiveClass,h=s.linkExactActiveClass,p=[];u.isActive&&p.push(ne(c,f,"router-link-active")),u.isExactActive&&p.push(ne(l,h,"router-link-exact-active"));var d=p.length>0?p.join(" "):void 0;return t.jsx("a",{onClick:u.navigate,href:u.route.fullPath,className:d,children:i})}function ae(){var r=e.useContext(N).matched,n=e.useContext(H).depth,o=e.useMemo((function(){return function(e,t){for(var r,n=e;(r=t[n])&&!r.component;)n++;return n}(n,r)}),[n]),a=r[o];if(a){var i=a.component,u=a.props,c=e.createElement(i,u);return t.jsx(H.Provider,{value:{depth:o+1},children:t.jsx(D.Provider,{value:a,children:c})})}return null}function ie(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ue(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ce(t){var r=t.history,n=Z(t.routes,{sensitive:t.sensitive,strict:t.strict},(function(e){return{beforeEnter:(t=e).beforeEnter,children:t.children||[],component:t.component,leaveGuards:new Set,meta:t.meta||{},name:t.name,path:t.path,props:t.props||{},redirected:t.redirect,updateGuards:new Set};var t})),o=k(),a=k(),i=k(),u=k(),l=k();async function s(e,t){var r,n="string"!=typeof e&&e.replace,o="string"!=typeof e&&e.force,a=v.resolve(e),i=v.currentRoute,u=function(e){var t=e.matched[e.matched.length-1];if(t&&t.redirected){var r=t.redirected,n="function"==typeof r?r(e):r;return"string"==typeof n&&(n=n.includes("?")||n.includes("#")?function(e,t){return"string"==typeof e?P(e,t.path):c({},e)}(n,v.currentRoute):{path:n}),c({query:e.query,hash:e.hash,params:null!=n.path?{}:e.params},n)}return null}(a);return u?s(c(u,{replace:e,force:o}),t||a):(a.redirectedFrom=t,!o&&O(a,i)&&(r=te(j.NAVIGATION_DUPLICATED,{to:a,from:i})),r?Promise.resolve(r):f(a,i).catch((function(e){return d(e,a,i)})).then((function(e){e?Promise.reject("infinite redirect in navigation guard"):h(a,!0,n),p(a,i)})))}async function f(e,t){var r,n=[],i=function(e,t){for(var r=[],n=[],o=[],a=Math.max(e.matched.length,t.matched.length),i=function(){var a=t.matched[u];a&&(e.matched.find((function(e){return e===a}))?n.push(a):r.push(a));var i=e.matched[u];i&&-1===t.matched.findIndex((function(e){return e===i}))&&o.push(i)},u=0;u<a;u++)i();return{leavingRecords:r,updateRecords:n,enterRecords:o}}(e,t),u=i.leavingRecords,c=i.updateRecords,l=i.enterRecords,s=ie(u);try{for(s.s();!(r=s.n()).done;){r.value.leaveGuards.forEach((function(r){n.push(le(r,e,t))}))}}catch(e){s.e(e)}finally{s.f()}return se(n).then((function(){n=[];var r,a=ie(o.list());try{for(a.s();!(r=a.n()).done;){var i=r.value;n.push(le(i,e,t))}}catch(e){a.e(e)}finally{a.f()}return se(n)})).then((function(){n=[];var r,o=ie(c);try{for(o.s();!(r=o.n()).done;){r.value.updateGuards.forEach((function(r){n.push(le(r,e,t))}))}}catch(e){o.e(e)}finally{o.f()}return se(n)})).then((function(){n=[];var r,o=ie(l);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.beforeEnter)if(Array.isArray(a.beforeEnter)){var i=a.beforeEnter.map((function(r){return le(r,e,t)}));n=n.concat(i)}else n.push(le(a.beforeEnter,e,t))}}catch(e){o.e(e)}finally{o.f()}return se(n)})).then((function(){n=[];var r,o=ie(a.list());try{for(o.s();!(r=o.n()).done;){var i=r.value;n.push(le(i,e,t))}}catch(e){o.e(e)}finally{o.f()}return se(n)})).catch((function(e){Promise.reject(e)}))}function h(e,t,n){t&&(n?r.replace(e.fullPath):r.push(e.fullPath)),function(e){if("currentRoute"in e){var t=v.currentRoute;c(v,e),l.list().forEach((function(e){e(v.currentRoute,t)}))}}({currentRoute:e})}function p(e,t,r){i.list().forEach((function(n){return n(e,t,r)}))}function d(e,t,r){var n,o=ie(u.list());try{for(o.s();!(n=o.n()).done;){(0,n.value)(e,t,r)}}catch(e){o.e(e)}finally{o.f()}return Promise.reject(e)}var v={currentRoute:T,option:t,listening:!0,go:r.go,back:function(){return r.go(-1)},forward:function(){return r.go(1)},push:s,pop:async function(e){var t=v.resolve(e),r=v.currentRoute;return f(t,r).catch((function(e){return d(e,t,r)})).then((function(e){h(t,!1),p(t,r,e)})).catch()},replace:function(e){return s(c("string"==typeof e?P(e):e,{replace:!0}))},resolve:function(e,t){if(t=c({},t||v.currentRoute),"string"==typeof e){var r=P(e,t.path);return c(r,n.matchPath({path:r.path},t))}var o;if(null!=e.path)o=c({},e,{path:P(e.path,t.path).path});else{for(var a=c({},e.params),i=0,u=Object.keys(a);i<u.length;i++){var l=u[i];null==a[l]&&delete a[l]}o=c({},e,{params:a})}var s=n.matchPath(o,t),f=function(e){var t=e.query?S(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}(c(e,{path:s.path})),h=function(e){var t={};for(var r in e){var n=e[r];void 0!==n&&(t[r]=Array.isArray(n)?n.map((function(e){return null==e?null:""+e})):null==n?n:""+n)}return t}(e.query);return c({fullPath:f,query:h,hash:e.hash||""},s)},beforeEach:o.add,beforeResolve:a.add,afterEach:i.add,onError:u.add,addRoute:function(e){return n.addBranch(e)},removeRoute:function(e){return n.delBranch(e)},hasRoute:function(e){return Boolean(n.getNamedBranch(e))},getRoutes:function(){return n.branches},isReady:function(){return Promise.resolve()},install:function(r){r.component("RouterLink",oe),r.component("RouterView",ae);var n=ce(t);r.rootComponent=e.createElement(fe,{router:n},r.rootComponent),r.config.globalProperties.$router=n,Object.defineProperty(r.config.globalProperties,"$route",{enumerable:!0,get:function(){return n.currentRoute}})},subscribeRouteChange:function(e){return l.add(e)}};return v}function le(e,t,r){var n=new Promise((function(n,o){var a=function(e){!1===e?o(te(j.NAVIGATION_ABORTED,{from:r,to:t})):e instanceof Error?o(e):"string"==typeof e||e&&"object"==typeof e?o(te(j.NAVIGATION_GUARD_REDIRECT,{from:t,to:e})):n(null)},i=e(t,r,a),u=Promise.resolve(i);e.length<3&&(u=u.then(a)),u.catch((function(e){return o(e)}))}));return function(){return n}}function se(e){return e.reduce((function(e,t){return e.then((function(){return t()}))}),Promise.resolve())}function fe(r){var n=r.children,o=r.router,a=o.currentRoute,i=o.option.history,u=e.useRef(null),c=e.useRef(!1),l=e.useRef(null),s=P(i.location),f=e.useState(a),h=f[0],p=f[1];return l.current||(l.current=o.subscribeRouteChange((function(e){p(e)}))),h.fullPath===s.fullPath&&c.current||o.push(i.location),e.useLayoutEffect((function(){return c.current=!0,u.current&&u.current(),l.current&&l.current(),l.current=o.subscribeRouteChange((function(e){p(e)})),u.current=i.listen((function(e){c.current&&o.pop(e)})),function(){u.current&&(c.current=!1,u.current(),u.current=null),l.current&&(l.current(),l.current=null)}})),t.jsx(L.Provider,{value:o,children:t.jsx(N.Provider,{value:h,children:n})})}function he(e){de("leaveGuards",e)}function pe(e){de("updateGuards",e)}function de(t,r){var n=e.useContext(D);return e.useLayoutEffect((function(){return n[t].add(r),function(){n[t].delete(r)}}),[]),null}exports.BeforeRouteLeave=he,exports.BeforeRouteUpdate=pe,exports.RouterLink=oe,exports.RouterProvider=fe,exports.RouterView=ae,exports.START_LOCATION=T,exports.createRouter=function(e){return ce(e)},exports.createWebHashHistory=function(e){return(e=location.host?e||location.pathname+location.search:"").includes("#")||(e+="#"),I({locationHandler:function(e){return function(){var t=window.location,r=t.pathname,n=t.search,o=t.hash,a=e.indexOf("#");if(a>-1){var i=o.includes(e.slice(a))?e.slice(a).length:1;return s("",f(o.slice(i)))}return s("",p(r,e)+n+o)}},baseHandler:function(e){return function(){var t=e.indexOf("#");return-1!==t?window.location.host&&document.querySelector("base")?e:e.slice(t):location.protocol+"//"+location.host+e}}},e)},exports.createWebHistory=function(e){return I({},e)},exports.isNavigationFailure=function(e,t){return e instanceof Error&&ee in e&&(null==t||Boolean(e.type&t))},exports.onBeforeRouteLeave=he,exports.onBeforeRouteUpdate=pe,exports.useLink=re,exports.useRoute=function(){return e.useContext(N)},exports.useRouteWatch=function(t,r){var n=e.useContext(L),o=(r||{}).immediate,a=e.useRef(!1),i=e.useRef(null);return e.useEffect((function(){a.current||(i.current=n.subscribeRouteChange((function(e,r){return t(e,r)})),o&&t(n.currentRoute,n.currentRoute),a.current=!0)}),[]),function(){return i.current&&i.current()}},exports.useRouter=function(){return e.useContext(L)};
//# sourceMappingURL=vradapter.min.js.map
