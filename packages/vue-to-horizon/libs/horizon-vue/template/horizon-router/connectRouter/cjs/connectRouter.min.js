'use strict';
Object.defineProperty(exports, '__esModule', { value: !0 });
var t = require('@cloudsop/horizon'),
  e = require('react-redux'),
  n = require('@cloudsop/horizon/jsx-runtime');
function r(t) {
  return t && 'object' == typeof t && 'default' in t ? t : { default: t };
}
var o = r(t);
function a() {
  return (
    (a = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    a.apply(this, arguments)
  );
}
var i = (function (t) {
    return (
      (t.LOCATION_CHANGE = '$inula-router/LOCATION_CHANGE'),
      (t.CALL_HISTORY_METHOD = '$inula-router/CALL_HISTORY_METHOD'),
      t
    );
  })({}),
  u = function (t) {
    return function () {
      for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++) n[r] = arguments[r];
      return { type: i.CALL_HISTORY_METHOD, payload: { method: t, args: n } };
    };
  },
  c = u('push'),
  s = u('replace'),
  l = u('go');
function f(t) {
  if (t && t.query) return t;
  var e = t && t.search;
  if (!e) return a({}, t, { query: {} });
  var n = {};
  return (
    new URLSearchParams(e).forEach(function (t, e) {
      return (n[e] = t);
    }),
    a({}, t, { query: n })
  );
}
function p(t, e) {
  if (null == t) return {};
  var n,
    r,
    o = {},
    a = Object.keys(t);
  for (r = 0; r < a.length; r++) ((n = a[r]), e.indexOf(n) >= 0 || (o[n] = t[n]));
  return o;
}
function h(t, e) {
  e(window.confirm(t));
}
function d() {
  return (
    'undefined' != typeof window &&
    window.document &&
    'function' == typeof window.document.createElement &&
    window.history &&
    'pushState' in window.history
  );
}
function v() {
  return -1 === window.navigator.userAgent.indexOf('Trident');
}
var m = (function (t) {
    return ((t.pop = 'POP'), (t.push = 'PUSH'), (t.replace = 'REPLACE'), t);
  })({}),
  y = (function (t) {
    return ((t.PopState = 'popstate'), (t.HashChange = 'hashchange'), t);
  })({}),
  g = (function (t) {
    return ((t.back = 'back'), (t.forward = 'forward'), (t.unknown = ''), t);
  })({});
function w(t) {
  var e = t.search,
    n = t.hash,
    r = t.pathname || '/';
  return (
    e && '?' !== e && (r += e.startsWith('?') ? e : '?' + e),
    n && '#' !== n && (r += n.startsWith('#') ? n : '#' + n),
    r
  );
}
function b(t) {
  var e = t || '/',
    n = { search: '', hash: '' },
    r = t.indexOf('#');
  if (r > -1) {
    var o = t.substring(r);
    ((n.hash = '#' === o ? '' : o), (e = e.substring(0, r)));
  }
  var a = t.indexOf('?');
  if (a > -1) {
    var i = t.substring(a);
    ((n.search = '?' === i ? '' : i), (e = e.substring(0, a)));
  }
  return ((n.pathname = e), n);
}
function x(t, e, n, r) {
  var o,
    i = 'string' == typeof t ? t : t.pathname,
    u = 'string' == typeof e ? b(e) : e,
    c =
      ((o = 6 + 2),
      function () {
        return Math.random().toString(18).substring(2, o);
      }),
    s = a({ pathname: i, search: '', hash: '', state: n, key: 'string' == typeof r ? r : c() }, u);
  return (
    s.pathname
      ? s.pathname.startsWith('/') ||
        (s.pathname = (function (t, e) {
          if (t.startsWith('/')) return t;
          var n = e.split('/'),
            r = t.split('/'),
            o = r[r.length - 1];
          ('..' !== o && '.' !== o) || r.push('');
          var a,
            i = n.length - 1,
            u = 0;
          for (; u < r.length; )
            if ('.' !== (a = r[u])) {
              if ('..' !== a) break;
              (i > 1 && i--, u++);
            }
          return n.slice(0, i).join('/') + '/' + r.slice(u).join('/');
        })(s.pathname, i))
      : (s.pathname = i || '/'),
    s.search && '?' !== s.search[0] && (s.search = '?' + s.search),
    s.hash && '#' !== s.hash[0] && (s.hash = '#' + s.hash),
    s
  );
}
function C(t, e) {
  return t.pathname === e.pathname && t.search === e.search && t.hash === e.hash;
}
function S(t) {
  return '/' === t[0] ? t : '/' + t;
}
function R(t) {
  return '/' === t[0] ? t.substring(1) : t;
}
function k(t) {
  var e = S(t);
  return '/' === e[e.length - 1] ? e.substring(0, e.length - 1) : e;
}
function A(t, e) {
  return (function (t, e) {
    return 0 === t.toLowerCase().indexOf(e.toLowerCase()) && ['/', '?', '#', ''].includes(t.charAt(e.length));
  })(t, e)
    ? t.substring(e.length)
    : t;
}
function L(t, e) {
  var n = [e(t)];
  return {
    getDelta: function (t, r) {
      var o = n.lastIndexOf(e(t));
      -1 === o && (o = 0);
      var a = n.lastIndexOf(e(r));
      return (-1 === a && (a = 0), o - a);
    },
    addRecord: function (t, r, o) {
      var a = e(t),
        i = e(r);
      if (o === m.push) {
        var u = n.lastIndexOf(a),
          c = n.slice(0, u + 1);
        (c.push(i), (n = c));
      }
      if (o === m.replace) {
        var s = n.lastIndexOf(a);
        -1 !== s && (n[s] = i);
      }
    },
  };
}
function O(t) {
  return (
    (O =
      'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
        ? function (t) {
            return typeof t;
          }
        : function (t) {
            return t && 'function' == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype
              ? 'symbol'
              : typeof t;
          }),
    O(t)
  );
}
function E(t) {
  var e = (function (t, e) {
    if ('object' != O(t) || !t) return t;
    var n = t[Symbol.toPrimitive];
    if (void 0 !== n) {
      var r = n.call(t, e || 'default');
      if ('object' != O(r)) return r;
      throw new TypeError('@@toPrimitive must return a primitive value.');
    }
    return ('string' === e ? String : Number)(t);
  })(t, 'string');
  return 'symbol' == O(e) ? e : String(e);
}
function P(t, e) {
  for (var n = 0; n < e.length; n++) {
    var r = e[n];
    ((r.enumerable = r.enumerable || !1),
      (r.configurable = !0),
      'value' in r && (r.writable = !0),
      Object.defineProperty(t, E(r.key), r));
  }
}
var H = (function () {
  function t() {
    (!(function (t, e) {
      if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function');
    })(this, t),
      (this.prompt = void 0),
      (this.prompt = null));
  }
  var e, n, r;
  return (
    (e = t),
    (n = [
      {
        key: 'setPrompt',
        value: function (t) {
          var e = this;
          return (
            (this.prompt = t),
            function () {
              e.prompt === t && (e.prompt = null);
            }
          );
        },
      },
      {
        key: 'confirmJumpTo',
        value: function (t, e, n, r) {
          if (null !== this.prompt) {
            var o = 'function' == typeof this.prompt ? this.prompt(t, e) : this.prompt;
            'string' == typeof o ? ('function' == typeof n ? n(o, r) : r(!0)) : r(!1 !== o);
          } else r(!0);
        },
      },
    ]) && P(e.prototype, n),
    r && P(e, r),
    Object.defineProperty(e, 'prototype', { writable: !1 }),
    t
  );
})();
function j(t, e) {
  t && console && 'function' == typeof console.warn && console.warn(e);
}
function T(t, e) {
  var n = ('undefined' != typeof Symbol && t[Symbol.iterator]) || t['@@iterator'];
  if (!n) {
    if (
      Array.isArray(t) ||
      (n = (function (t, e) {
        if (t) {
          if ('string' == typeof t) return M(t, e);
          var n = {}.toString.call(t).slice(8, -1);
          return (
            'Object' === n && t.constructor && (n = t.constructor.name),
            'Map' === n || 'Set' === n
              ? Array.from(t)
              : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? M(t, e)
                : void 0
          );
        }
      })(t)) ||
      (e && t && 'number' == typeof t.length)
    ) {
      n && (t = n);
      var r = 0,
        o = function () {};
      return {
        s: o,
        n: function () {
          return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
        },
        e: function (t) {
          throw t;
        },
        f: o,
      };
    }
    throw new TypeError(
      'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
    );
  }
  var a,
    i = !0,
    u = !1;
  return {
    s: function () {
      n = n.call(t);
    },
    n: function () {
      var t = n.next();
      return ((i = t.done), t);
    },
    e: function (t) {
      ((u = !0), (a = t));
    },
    f: function () {
      try {
        i || null == n.return || n.return();
      } finally {
        if (u) throw a;
      }
    },
  };
}
function M(t, e) {
  (null == e || e > t.length) && (e = t.length);
  for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
  return r;
}
function I() {
  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 'browser',
    e = arguments.length > 1 ? arguments[1] : void 0,
    n = arguments.length > 2 ? arguments[2] : void 0,
    r = 0,
    o = v(),
    i = [],
    u = [],
    c = window.history,
    s = !1;
  function l(e) {
    (null === e ? (r = 0) : (r += e),
      1 === r && 1 === e
        ? 'browser' === t && o
          ? addEventListener(y.PopState, n)
          : addEventListener(y.HashChange, n)
        : 0 === r &&
          ('browser' === t && o ? removeEventListener(y.PopState, n) : removeEventListener(y.HashChange, n)));
  }
  var f = !1;
  return {
    go: function (t) {
      ((!(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]) && (s = !0), c.go(t));
    },
    addListener: function (t) {
      var e = !0,
        n = {
          type: t.type,
          trigger: function (n) {
            e &&
              ('common' === t.type && 'action' in n
                ? t.listener(n)
                : 'pop' === t.type && 'to' in n && t.listener(n.to, n.from, n.information));
          },
        };
      (i.push(n), l(1));
      var r = function () {
        ((e = !1),
          l(-1),
          (i = i.filter(function (t) {
            return t !== n;
          })));
      };
      return (u.push(r), r);
    },
    block: function () {
      var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
        n = e.setPrompt(t);
      return (
        f || (l(1), (f = !0)),
        function () {
          (f && ((f = !1), l(-1)), n());
        }
      );
    },
    destroy: function () {
      var t,
        e = T(u);
      try {
        for (e.s(); !(t = e.n()).done; ) {
          (0, t.value)();
        }
      } catch (t) {
        e.e(t);
      } finally {
        e.f();
      }
      ((u.length = 0), l(null));
    },
    getUpdateStateFunc: function (t) {
      return function (e) {
        var n = w(t.location);
        e && a(t, e);
        var r = c.length - t.length;
        t.length = c.length;
        for (
          var o = a({}, t.location),
            u = { location: o, action: t.action },
            l = { to: w(o), from: n, information: { delta: r, direction: r > 0 ? g.forward : g.back, type: m.pop } },
            f = 0;
          f < i.length && !s;
          f++
        ) {
          var p = i[f];
          'common' === p.type ? p.trigger(u) : 'pop' === p.type && t.action === m.pop && p.trigger(l);
        }
        s = !1;
      };
    },
  };
}
function U() {
  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
    e = d(),
    n = v(),
    r = window.history,
    o = t.forceRefresh,
    a = void 0 !== o && o,
    i = t.getUserConfirmation,
    u = void 0 === i ? h : i,
    c = t.basename ? k(t.basename) : '',
    s = T(P()),
    l = L(s, function (t) {
      return t.key;
    }),
    f = new H(),
    p = I('browser', f, function (e) {
      var r = n && U(e) ? e.state : P();
      !(function (t) {
        if (M) ((M = !1), E(void 0));
        else {
          var e = m.pop,
            n = function (n) {
              var r, o, a;
              n
                ? E({ action: e, location: t })
                : ((r = t), (o = O.location), 0 !== (a = l.getDelta(o, r)) && (g(a), (M = !0)));
            };
          f.confirmJumpTo(t, e, u, n);
        }
      })((t.locationHandler ? t.locationHandler : T)(r));
    }),
    g = p.go,
    b = p.addListener,
    C = p.block,
    S = p.destroy,
    R = p.getUpdateStateFunc,
    O = {
      action: m.pop,
      length: r.length,
      location: s,
      go: g,
      goBack: function () {
        return g(-1);
      },
      goForward: function () {
        return g(-1);
      },
      listen: function (t) {
        return b({ type: 'common', listener: t });
      },
      addListener: b,
      block: C,
      push: function (t, n) {
        var o = m.push,
          i = x(O.location, t, n, void 0);
        f.confirmJumpTo(i, o, u, function (t) {
          if (t) {
            var n = _(i),
              u = i.key,
              c = i.state;
            e
              ? a
                ? (window.location.href = n)
                : (r.pushState({ key: u, state: c }, '', n),
                  l.addRecord(O.location, i, o),
                  E({ action: o, location: i }))
              : (j(void 0 !== c, 'Browser history cannot push state in browsers that do not support HTML5 history'),
                (window.location.href = n));
          }
        });
      },
      replace: function (t, n) {
        var o = m.replace,
          i = x(O.location, t, n, void 0);
        f.confirmJumpTo(i, o, u, function (t) {
          if (t) {
            var n = _(i),
              u = i.key,
              c = i.state;
            e
              ? a
                ? window.location.replace(n)
                : (r.replaceState({ key: u, state: c }, '', n),
                  l.addRecord(O.location, i, o),
                  E({ action: o, location: i }))
              : (j(void 0 !== c, 'Browser history cannot push state in browsers that do not support HTML5 history'),
                window.location.replace(n));
          }
        });
      },
      destroy: S,
      createHref: _,
    },
    E = R(O);
  function P() {
    return e ? window.history.state : {};
  }
  function T(t) {
    var e = window.location,
      n = e.search,
      r = e.hash,
      o = t || {},
      a = o.key,
      i = o.state,
      u = window.location.pathname;
    return x('', { pathname: (u = c ? A(u, c) : u), search: n, hash: r }, i, a);
  }
  var M = !1;
  var U = function (t) {
    return t.type === y.PopState;
  };
  function _(e) {
    return (t.baseHandler ? t.baseHandler() : c) + w(e);
  }
  return O;
}
function _(t) {
  var e = t.indexOf('#');
  return -1 === e ? t : t.substring(0, e);
}
function N(t) {
  var e = t.indexOf('#');
  return -1 === e ? '' : t.substring(e + 1);
}
function D() {
  var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
    e = window.history,
    n = t.hashType,
    r = void 0 === n ? 'slash' : n,
    o = t.getUserConfirmation,
    a = void 0 === o ? h : o,
    i = t.basename ? k(t.basename) : '',
    u = S,
    c = 'slash' === r ? S : R,
    s = N(window.location.href),
    l = c(s);
  function f() {
    var t = u(N(window.location.hash));
    return (i && (t = A(t, i)), x('', t, void 0, 'default'));
  }
  s !== l && window.location.replace(_(window.location.href) + '#' + l);
  var p = f(),
    d = L(p, w),
    v = new H();
  var y = !1,
    g = null,
    b = I('hash', v, function () {
      var t = N(window.location.href),
        e = c(t);
      if (t !== e) window.location.replace(_(window.location.href) + '#' + e);
      else {
        var n = f(),
          r = U.location;
        if (!y && C(n, r)) return;
        if (g === w(n)) return;
        ((g = null),
          (function (t) {
            if (y) ((y = !1), D(void 0));
            else {
              var e = m.pop,
                n = function (n) {
                  var r, o, a;
                  n
                    ? D({ action: e, location: t })
                    : ((r = t), (o = U.location), 0 !== (a = d.getDelta(o, r)) && (O(a), (y = !0)));
                };
              v.confirmJumpTo(t, e, a, n);
            }
          })(n));
      }
    }),
    O = b.go,
    E = b.addListener,
    P = b.block,
    T = b.destroy,
    M = b.getUpdateStateFunc,
    U = {
      action: m.pop,
      length: e.length,
      location: p,
      go: O,
      goBack: function () {
        return O(-1);
      },
      goForward: function () {
        return O(1);
      },
      push: function (t, e) {
        j(void 0 !== e, 'Hash history does not support state, it will be ignored');
        var n = m.push,
          r = x(U.location, t, e, '');
        v.confirmJumpTo(r, n, a, function (t) {
          if (t) {
            var e = w(r),
              o = c(i + e);
            N(window.location.href) !== o
              ? ((g = o), (window.location.hash = o), d.addRecord(U.location, r, n), D({ action: n, location: r }))
              : D(void 0);
          }
        });
      },
      replace: function (t, e) {
        j(void 0 !== e, 'Hash history does not support state, it will be ignored');
        var n = m.replace,
          r = x(U.location, t, e, '');
        v.confirmJumpTo(r, n, a, function (t) {
          if (t) {
            var e = w(r),
              o = c(i + e);
            (N(window.location.href) !== o && ((g = e), window.location.replace(_(window.location.href) + '#' + o)),
              d.addRecord(U.location, r, n),
              D({ action: n, location: r }));
          }
        });
      },
      listen: function (t) {
        return E({ type: 'common', listener: t });
      },
      addListener: E,
      block: P,
      destroy: T,
      createHref: function (t) {
        var e = document.querySelector('base');
        return (e && e.getAttribute('href') ? _(window.location.href) : '') + '#' + c(i + w(t));
      },
    },
    D = M(U);
  return U;
}
var $,
  B,
  W,
  F = (($ = 'Router'), (B = {}), ((W = t.createContext(B)).displayName = $), W),
  q = (function (t) {
    return (
      (t.Delimiter = 'delimiter'),
      (t.Static = 'static'),
      (t.Param = 'param'),
      (t.WildCard = 'wildcard'),
      (t.LBracket = '('),
      (t.RBracket = ')'),
      (t.Pattern = 'pattern'),
      t
    );
  })({});
function J(t) {
  return t.replace(/([.+*?=^!:${}()[\]|/\\])/g, '\\$1');
}
var G = /[^/:()*?$^+]/;
function K(t, e) {
  var n = ('undefined' != typeof Symbol && t[Symbol.iterator]) || t['@@iterator'];
  if (!n) {
    if (
      Array.isArray(t) ||
      (n = (function (t, e) {
        if (t) {
          if ('string' == typeof t) return Y(t, e);
          var n = {}.toString.call(t).slice(8, -1);
          return (
            'Object' === n && t.constructor && (n = t.constructor.name),
            'Map' === n || 'Set' === n
              ? Array.from(t)
              : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                ? Y(t, e)
                : void 0
          );
        }
      })(t)) ||
      (e && t && 'number' == typeof t.length)
    ) {
      n && (t = n);
      var r = 0,
        o = function () {};
      return {
        s: o,
        n: function () {
          return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
        },
        e: function (t) {
          throw t;
        },
        f: o,
      };
    }
    throw new TypeError(
      'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.'
    );
  }
  var a,
    i = !0,
    u = !1;
  return {
    s: function () {
      n = n.call(t);
    },
    n: function () {
      var t = n.next();
      return ((i = t.done), t);
    },
    e: function (t) {
      ((u = !0), (a = t));
    },
    f: function () {
      try {
        i || null == n.return || n.return();
      } finally {
        if (u) throw a;
      }
    },
  };
}
function Y(t, e) {
  (null == e || e > t.length) && (e = t.length);
  for (var n = 0, r = Array(e); n < e; n++) r[n] = t[n];
  return r;
}
var z = (function (t) {
    return (
      (t[(t.static = 10)] = 'static'),
      (t[(t.param = 6)] = 'param'),
      (t[(t.wildcard = 3)] = 'wildcard'),
      (t[(t.placeholder = -1)] = 'placeholder'),
      t
    );
  })(z || {}),
  X = { caseSensitive: !1, strictMode: !1, exact: !1 },
  V = /[.+*?^${}()[\]/\\]/g,
  Q = '[^/]+',
  Z = '/#?';
function tt(t) {
  for (
    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : X,
      n = e.caseSensitive,
      r = void 0 === n ? X.caseSensitive : n,
      o = e.strictMode,
      a = void 0 === o ? X.strictMode : o,
      i = e.exact,
      u = void 0 === i ? X.exact : i,
      c = '^',
      s = [],
      l = [],
      f = (function (t) {
        var e = [];
        if (!t) return e;
        var n = (function (t) {
          return t.replace(/\/+/g, '/');
        })(t);
        if ('*' !== n && !n.startsWith('/')) throw new Error('Url must start with "/".');
        for (
          var r = function () {
              for (var t = ''; a < n.length && G.test(n[a]); ) ((t += n[a]), o(1));
              return t;
            },
            o = function (t) {
              a += t;
            },
            a = 0;
          a < n.length;

        ) {
          var i = n[a],
            u = n[a - 1];
          '/' !== i
            ? '/' !== u || ':' !== i
              ? ('/' !== u && void 0 !== u) || '*' !== i
                ? '/' === u && G.test(i)
                  ? e.push({ type: q.Static, value: r() })
                  : '(' !== i
                    ? ')' !== i
                      ? ['*', '?', '$', '^', '+'].includes(i)
                        ? (e.push({ type: q.Pattern, value: i }), o(1))
                        : G.test(i)
                          ? e.push({ type: q.Pattern, value: r() })
                          : o(1)
                      : (e.push({ type: q.RBracket, value: ')' }), o(1))
                    : (e.push({ type: q.LBracket, value: '(' }), o(1))
                : (e.push({ type: q.WildCard, value: n[a] }), o(1))
              : (o(1), e.push({ type: q.Param, value: r() }))
            : (e.push({ type: q.Delimiter, value: n[a] }), o(1));
        }
        return e;
      })(t),
      p = 1 === f.length && f[0].type === q.WildCard,
      h = f.length,
      d = f[h - 1],
      v = 0,
      m = function (t) {
        for (var e = !1; t < f.length && f[t].type !== q.Delimiter; )
          (('?' !== f[t].value && '*' !== f[t].value) || (e = !0), t++);
        return e;
      },
      y = 0;
    y < h;
    y++
  ) {
    var g = f[y],
      w = f[y + 1];
    switch (g.type) {
      case q.Delimiter:
        c += '/' + (m(y + 1) || (void 0 === w && !a) ? '?' : '');
        break;
      case q.Static:
        ((c += g.value.replace(V, '\\$&')),
          w && w.type === q.Pattern && ((c += '(.' + w.value + ')'), s.push(String(v)), v++),
          l.push(z.static));
        break;
      case q.Param:
        var b = '';
        if (w)
          switch (w.type) {
            case q.LBracket:
              for (y += 2; f[y].type !== q.RBracket; ) ((b += f[y].value), y++);
              b = '(' + b + ')';
              break;
            case q.Pattern:
              (y++, (b += '(' + ('*' === w.value ? '.*' : Q) + ')' + w.value));
          }
        ((c += b ? '(?:' + b + ')' : '([^/]+)'), s.push(g.value), l.push(z.param));
        break;
      case q.WildCard:
        (s.push(g.value),
          (c += '((?:[^/]+)' + (p ? '?' : '') + '(?:/(?:' + Q + '))*)'),
          l.push(p ? z.wildcard : z.placeholder));
    }
  }
  d.type === q.WildCard || u
    ? (c += a ? '$' : '[' + J(Z) + ']?$')
    : (a || (c += '(?:[' + J(Z) + '](?=$))?'), d.type !== q.Delimiter && (c += '(?=[' + J(Z) + ']|$)'));
  var x = new RegExp(c, r ? '' : 'i');
  return {
    regexp: x,
    keys: s,
    score: l,
    compile: function (t) {
      var e,
        n = '',
        r = K(f);
      try {
        for (r.s(); !(e = r.n()).done; ) {
          var o = e.value;
          switch (o.type) {
            case q.Static:
              n += o.value;
              break;
            case q.Param:
              if (!t[o.value]) throw new Error('Param is invalid.');
              n += t[o.value];
              break;
            case q.WildCard:
              var a = t['*'];
              n += a instanceof Array ? a.join('/') : a;
              break;
            case q.Delimiter:
              n += o.value;
          }
        }
      } catch (t) {
        r.e(t);
      } finally {
        r.f();
      }
      return n;
    },
    parse: function (e) {
      var n = e.match(x);
      if (!n) return null;
      for (var r = n[0], o = {}, a = Array.from(l), i = 1; i < n.length; i++) {
        var u = n[i],
          c = s[i - 1];
        if ('*' === c && u) {
          var f,
            p = u.split('/');
          if (Array.isArray(o['*'])) (f = o['*']).push.apply(f, p);
          else o['*'] = p;
          a.splice.apply(a, [l.indexOf(z.placeholder), 1].concat(new Array(p.length).fill(z.wildcard)));
        } else o[c] = u || void 0;
      }
      return { isExact: e === r, path: t, url: '/' === e && '' === r ? '/' : r, score: a, params: o };
    },
  };
}
function et(t, e, n) {
  var r,
    o = [],
    a = K(Array.isArray(e) ? [].concat(e) : [e]);
  try {
    for (a.s(); !(r = a.n()).done; ) {
      var i = tt(r.value, n).parse(t);
      i && o.push(i);
    }
  } catch (t) {
    a.e(t);
  } finally {
    a.f();
  }
  return o.length
    ? o.sort(function (t, e) {
        return (function (t, e) {
          for (var n = t.length, r = e.length, o = Math.min(n, r), a = 0; a < o; a++) {
            var i = e[a] - t[a];
            if (0 !== i) return i;
          }
          return n === r ? 0 : n > r ? -1 : 1;
        })(t.score, e.score);
      })[0]
    : null;
}
function nt() {
  return t.useContext(F).location;
}
function rt(e) {
  var r = e.history,
    o = e.children,
    a = void 0 === o ? null : o,
    i = t.useState(e.history.location),
    u = i[0],
    c = i[1],
    s = t.useRef(null),
    l = t.useRef(null),
    f = t.useRef(!1);
  (null === l.current &&
    (l.current = r.listen(function (t) {
      s.current = t.location;
    })),
    t.useLayoutEffect(function () {
      return (
        (f.current = !0),
        l.current && l.current(),
        (l.current = r.listen(function (t) {
          f.current && c(t.location);
        })),
        s.current && c(s.current),
        function () {
          l.current && ((f.current = !1), l.current(), (l.current = null), (s.current = null));
        }
      );
    }, []));
  var p = t.useMemo(
    function () {
      return {
        history: r,
        location: u,
        match: { isExact: '/' === u.pathname, params: {}, path: '/', score: [], url: '/' },
      };
    },
    [u]
  );
  return n.jsx(F.Provider, { value: p, children: a });
}
function ot(e) {
  var n = t.useRef(null),
    r = t.useRef(!1),
    o = e.onMount,
    a = e.onUpdate,
    i = e.onUnmount;
  return (
    t.useLayoutEffect(function () {
      (r.current ? a && (n.current ? a(n.current) : a()) : ((r.current = !0), o && o()), (n.current = e));
    }),
    t.useLayoutEffect(function () {
      return function () {
        i && i();
      };
    }, []),
    null
  );
}
var at = ['state'];
var it = ['wrappedComponentRef'];
var ut = ['to', 'replace', 'component', 'onClick', 'target'];
function ct(e) {
  var n = e.to,
    r = e.replace;
  e.component;
  var i,
    u,
    c = e.onClick,
    s = e.target,
    l = p(e, ut),
    f = e.tag || 'a',
    h = t.useContext(F),
    d = h.history,
    v = 'function' == typeof n ? n(h.location) : n;
  if ('string' == typeof v) u = b(v);
  else {
    var m = v.pathname,
      y = v.hash,
      g = v.search;
    ((u = { pathname: m, hash: y, search: g }), (i = v.state));
  }
  var x = a(
    {
      href: d.createHref(u),
      onClick: function (t) {
        try {
          c && c(t);
        } catch (e) {
          throw (t.preventDefault(), e);
        }
        if (
          !t.defaultPrevented &&
          0 === t.button &&
          (function (t) {
            return !t || '_self' === t;
          })(s) &&
          !(function (t) {
            return t.metaKey || t.altKey || t.ctrlKey || t.shiftKey;
          })(t)
        ) {
          var e = w(h.location) === w(u),
            n = r || e ? d.replace : d.push;
          (t.preventDefault(), n(u, i));
        }
      },
    },
    l
  );
  return o.default.createElement(f, x);
}
var st = ['to', 'isActive', 'exact', 'strict', 'sensitive', 'className', 'activeClassName'];
function lt(t, e) {
  if (!t) return t;
  var n = e.length;
  if (n) {
    for (var r = t, o = 0; o < n && r; ++o) r = r[e[o]];
    return r;
  }
}
var ft = function (t) {
    var e = function (e) {
      var n,
        r = lt(e, ['router']);
      if (null === (n = r) || 'object' != typeof n || !lt(n, ['location']) || !lt(n, ['action']))
        throw new Error('Could not find router reducer in ' + t + ' store, it must be mounted under "router"');
      return r;
    };
    return {
      getHash: function (t) {
        return lt(e(t), ['location', 'hash']);
      },
      getAction: function (t) {
        return lt(e(t), ['action']);
      },
      getSearch: function (t) {
        return lt(e(t), ['location', 'search']);
      },
      getRouter: e,
      getLocation: function (t) {
        return lt(e(t), ['location']);
      },
    };
  },
  pt = ['store'],
  ht = t.reduxAdapter.connect;
function dt(e) {
  var r,
    o = e.store,
    a = e.history,
    i = e.onLocationChanged,
    u = e.omitRouter,
    c = e.children,
    s = e.storeType,
    l = ft(s).getLocation,
    f = t.useRef(
      o.subscribe(function () {
        var t = l(o.getState()),
          e = t.pathname,
          n = t.search,
          r = t.hash,
          i = t.state,
          u = a.location,
          c = u.pathname,
          s = u.search,
          f = u.hash,
          p = u.state;
        'PUSH' !== a.action ||
          (c === e && s === n && f === r && p === i) ||
          a.push({ pathname: e, search: n, hash: r }, i);
      })
    ),
    p = function (t) {
      var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
        n = t.location,
        r = t.action;
      i(n, r, e);
    },
    h = t.useRef(a.listen(p));
  return (
    t.useLayoutEffect(function () {
      return function () {
        (h.current && h.current(), f.current && f.current());
      };
    }, []),
    e.noInitialPop || p({ location: a.location, action: a.action }, !0),
    u
      ? n.jsx(n.Fragment, { children: c })
      : ((r = 'function' == typeof c ? c() : c), n.jsx(rt, { history: a, children: r }))
  );
}
function vt(t) {
  var r = function (t) {
      return {
        onLocationChanged: function (e, n, r) {
          return t(
            (function (t, e) {
              var n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
              return { type: i.LOCATION_CHANGE, payload: { location: t, action: e, isFirstRendering: n } };
            })(e, n, r)
          );
        },
      };
    },
    u = o.default.memo(dt);
  if ('InulaXCompat' === t)
    return ht(
      null,
      r
    )(function (e) {
      var r = e.store,
        o = p(e, pt);
      return n.jsx(u, a({ store: r, storeType: t }, o));
    });
  if ('Redux' === t)
    return e.connect(
      null,
      r
    )(function (r) {
      var o = r.context || e.ReactReduxContext;
      return n.jsx(o.Consumer, {
        children: function (e) {
          var o = e.store;
          return n.jsx(u, a({ store: o, storeType: t }, r));
        },
      });
    });
  throw new Error('Invalid store type');
}
var mt = function (t) {
    var e = { location: f(t.location), action: t.action };
    return function () {
      var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : e,
        n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
        r = n.type,
        o = n.payload;
      if (r === i.LOCATION_CHANGE) {
        var u = o.location,
          c = o.action;
        return o.isFirstRendering ? t : a({}, t, { location: f(u), action: c });
      }
      return t;
    };
  },
  yt = vt('Redux'),
  gt = vt('InulaXCompat');
((exports.BrowserRouter = function (e) {
  var r = t.useRef();
  return (
    (null !== r.current && void 0 !== r.current) ||
      (r.current = U({
        basename: e.basename,
        forceRefresh: e.forceRefresh,
        getUserConfirmation: e.getUserConfirmation,
      })),
    n.jsx(rt, { history: r.current, children: e.children })
  );
}),
  (exports.ConnectedHRouter = gt),
  (exports.ConnectedRouter = yt),
  (exports.HashRouter = function (e) {
    var r = t.useRef();
    return (
      (null !== r.current && void 0 !== r.current) ||
        (r.current = D({ basename: e.basename, getUserConfirmation: e.getUserConfirmation, hashType: e.hashType })),
      n.jsx(rt, { history: r.current, children: e.children })
    );
  }),
  (exports.Link = ct),
  (exports.NavLink = function (e) {
    var r = e.to,
      o = e.isActive,
      i = e.exact,
      u = e.strict,
      c = e.sensitive,
      s = e.className,
      l = e.activeClassName,
      f = p(e, st),
      h = t.useContext(F),
      d = 'function' == typeof r ? r(h.location) : r,
      v = ('string' == typeof d ? b(d) : d).pathname,
      m = v ? et(h.location.pathname, v, { exact: i, strictMode: u, caseSensitive: c }) : null,
      y = !!(o ? o(m, h.location) : m),
      g = 'function' == typeof s ? s(y) : s;
    y && (g = [l, g].filter(Boolean).join(' '));
    var w = a({ className: g, 'aria-current': y ? 'page' : void 0 }, f);
    return n.jsx(ct, a({ to: r }, w));
  }),
  (exports.Prompt = function (e) {
    var r = t.useContext(F),
      o = e.message,
      a = e.when,
      i = void 0 === a || a;
    if (('function' == typeof i && !1 === i(r.location)) || !i) return null;
    var u = r.history.block,
      c = t.useRef(null);
    return n.jsx(ot, {
      onMount: function () {
        c.current = o ? u(o) : null;
      },
      onUpdate: function (t) {
        t && t.data !== o && (c.current && c.current(), (c.current = o ? u(o) : null));
      },
      onUnmount: function () {
        (c.current && c.current(), (c.current = null));
      },
      data: o,
    });
  }),
  (exports.Redirect = function (e) {
    var r = e.to,
      o = e.push,
      i = void 0 !== o && o,
      u = e.computed,
      c = t.useContext(F).history,
      s = i ? c.push : c.replace,
      l = (function () {
        if (u) {
          if ('string' == typeof r) return b(tt(r).compile(u.params));
          var t = tt(r.pathname ? S(r.pathname) : '/').compile(u.params);
          return a({}, r, { pathname: t });
        }
        return 'string' == typeof r ? b(r) : r;
      })(),
      f = l.state,
      h = p(l, at);
    return n.jsx(ot, {
      onMount: function () {
        s(h, f);
      },
      onUpdate: function (t) {
        C(null == t ? void 0 : t.data, h) || s(h, f);
      },
      data: h,
    });
  }),
  (exports.Route = function (e) {
    var r = t.useContext(F),
      o = e.computed,
      i = e.location,
      u = e.path,
      c = e.component,
      s = e.render,
      l = e.strict,
      f = e.sensitive,
      p = e.exact,
      h = e.children,
      d = i || r.location,
      v = a({}, r, {
        location: d,
        match: o || (u ? et(d.pathname, u, { strictMode: l, caseSensitive: f, exact: p }) : r.match),
      });
    return (
      Array.isArray(h) && 0 === t.Children.count(h) && (h = null),
      n.jsx(F.Provider, {
        value: v,
        children: v.match
          ? h
            ? 'function' == typeof h
              ? h(v)
              : h
            : c
              ? t.createElement(c, v)
              : s
                ? s(v)
                : null
          : 'function' == typeof h
            ? h(v)
            : null,
      })
    );
  }),
  (exports.Router = rt),
  (exports.Switch = function (e) {
    var n = t.useContext(F),
      r = e.location || n.location,
      o = null,
      a = null;
    return (
      t.Children.forEach(e.children, function (e) {
        if (null === a && t.isValidElement(e)) {
          o = e;
          var i = e.props,
            u = i.path || i.from;
          a = u ? et(r.pathname, u, { strictMode: i.strict, caseSensitive: i.sensitive, exact: i.exact }) : n.match;
        }
      }),
      a && o ? t.cloneElement(o, { location: r, computed: a }) : null
    );
  }),
  (exports.__RouterContext = F),
  (exports.connectRouter = mt),
  (exports.createBrowserHistory = U),
  (exports.createHashHistory = D),
  (exports.generatePath = function (t, e) {
    return tt(t).compile(e);
  }),
  (exports.go = l),
  (exports.matchPath = et),
  (exports.push = c),
  (exports.replace = s),
  (exports.routerMiddleware = function (t) {
    return function (e) {
      return function (e) {
        return function (n) {
          if (n.type !== i.CALL_HISTORY_METHOD) return e(n);
          var r,
            o = n.payload,
            a = o.method,
            u = o.args;
          a in t && (r = t)[a].apply(r, u);
        };
      };
    };
  }),
  (exports.useHistory = function () {
    return t.useContext(F).history;
  }),
  (exports.useLocation = nt),
  (exports.useParams = function () {
    var e = t.useContext(F).match;
    return e ? e.params : {};
  }),
  (exports.useRouteMatch = function (e) {
    var n = nt().pathname,
      r = t.useContext(F).match;
    return e ? et(n, e) : r;
  }),
  (exports.withRouter = function (e) {
    return function (r) {
      var o = r.wrappedComponentRef,
        i = p(r, it),
        u = t.useContext(F);
      return n.jsx(e, a({}, i, u, { ref: o }));
    };
  }));
//# sourceMappingURL=connectRouter.min.js.map
