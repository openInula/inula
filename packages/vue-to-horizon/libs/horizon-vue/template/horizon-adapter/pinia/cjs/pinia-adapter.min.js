'use strict';
Object.defineProperty(exports, '__esModule', { value: !0 });
var e = require('@cloudsop/horizon');
function t() {
  return (t = Object.assign
    ? Object.assign.bind()
    : function (e) {
        for (var t = 1; t < arguments.length; t++) {
          var r = arguments[t];
          for (var n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]);
        }
        return e;
      }).apply(this, arguments);
}
var r = e.vueReactive.ref,
  n = e.vueReactive.isRef,
  i = e.vueReactive.toRef,
  o = e.vueReactive.isReactive,
  a = e.vueReactive.isReadonly,
  c = new Map();
function u(e) {
  return e
    ? Object.fromEntries(
        Object.entries(e).map(function (e) {
          var t = e[0],
            r = e[1];
          return [
            t,
            function (e) {
              for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), i = 1; i < t; i++)
                n[i - 1] = arguments[i];
              return r.bind(this).apply(void 0, n);
            },
          ];
        })
      )
    : {};
}
((exports.createPinia = function () {
  console.warn(
    'The pinia-adapter in Horizon does not support the createPinia interface. Please modify your code accordingly.'
  );
  var e = {
    install: function (e) {},
    use: function (t) {
      return e;
    },
    state: {},
  };
  return e;
}),
  (exports.defineStore = function (t, r) {
    var i,
      s,
      f = !1;
    return (
      'string' == typeof t ? ((f = 'function' == typeof r), (i = t), (s = r)) : ((i = t.id), (s = t)),
      f
        ? (function (t, r) {
            return function () {
              var i = r();
              if (!i) return {};
              if (c.has(t)) return c.get(t)();
              var s = {},
                f = {},
                v = {};
              for (var p in i) {
                var d = i[p];
                (n(d) && !a(d)) || o(d)
                  ? (s[p] = d)
                  : 'function' == typeof d
                    ? (f[p] = d)
                    : n(d) && a(d) && (v[p] = d.getter);
              }
              var l = e.createStore({ id: t, state: s, computed: v, actions: u(f) });
              return (c.set(t, l), l());
            };
          })(i, s)
        : (function (t, r) {
            var n = r.state ? r.state() : {},
              i = r.getters || {},
              o = u(r.actions) || {};
            return function () {
              if (c.has(t)) return c.get(t)();
              var r = e.createStore({ id: t, state: n, actions: o, computed: i });
              return (c.set(t, r), r());
            };
          })(i, s)
    );
  }),
  (exports.mapStores = function () {
    for (var e = {}, t = arguments.length, r = new Array(t), n = 0; n < t; n++) r[n] = arguments[n];
    return (
      r.forEach(function (t) {
        var r = t();
        e[r.id + 'Store'] = function () {
          return r;
        };
      }),
      e
    );
  }),
  (exports.storeToRefs = function (e) {
    return t(
      {},
      Object.fromEntries(
        Object.entries(e.$s || {}).map(function (e) {
          var t = e[0],
            n = e[1];
          return [t, r(n)];
        })
      ),
      Object.fromEntries(
        Object.entries(e.$config.computed || {}).map(function (t) {
          var r = t[0],
            n = t[1].bind(e, e.$s);
          return [r, i(n)];
        })
      )
    );
  }));
//# sourceMappingURL=pinia-adapter.min.js.map
