{"version":3,"file":"vuex-adapter.js","sources":["../../../../../node_modules/.pnpm/@babel+runtime@7.23.8/node_modules/@babel/runtime/helpers/esm/extends.js","../../../src/vuex/vuex.ts","../../../src/vuex/maps.ts"],"sourcesContent":["export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","/*\r\n * Copyright (c) 2024 Huawei Technologies Co.,Ltd.\r\n *\r\n * openInula is licensed under Mulan PSL v2.\r\n * You can use this software according to the terms and conditions of the Mulan PSL v2.\r\n * You may obtain a copy of Mulan PSL v2 at:\r\n *\r\n *          http://license.coscl.org.cn/MulanPSL2\r\n *\r\n * THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND,\r\n * EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,\r\n * MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\r\n * See the Mulan PSL v2 for more details.\r\n */\r\n\r\nimport { createStore as createStoreX, StoreObj, vueReactive } from '@cloudsop/horizon';\r\nimport { VuexStore, VuexStoreOptions } from './types';\r\nimport { AnyFunction } from '../vuex/types';\r\n\r\nconst { watch, useComputed, computed } = vueReactive;\r\n\r\nexport const MUTATION_PREFIX = 'm_';\r\nexport const GETTER_PREFIX = 'g_';\r\n\r\nconst storeMap = new Map<string, any>();\r\n\r\n// 用于保存storeX对象的getStoreX方法，主要是为了调用registerDestroyFunction\r\nlet getStoreXCache: null | (() => StoreObj) = null;\r\n\r\ntype GettersMap<T extends StoreObj = StoreObj> = {\r\n  [K in keyof T['$c']]: ReturnType<T['$c'][K]>;\r\n};\r\n\r\nexport function createStore<\r\n  State extends Record<string, unknown> = Record<string, unknown>,\r\n  Mutations extends Record<string, AnyFunction> = Record<string, AnyFunction>,\r\n  Actions extends Record<string, AnyFunction> = Record<string, AnyFunction>,\r\n  Getters extends Record<string, AnyFunction> = Record<string, AnyFunction>,\r\n  RootState extends Record<string, unknown> = Record<string, unknown>,\r\n  RootGetters extends Record<string, AnyFunction> = Record<string, AnyFunction>,\r\n  Modules extends Record<string, Record<string, unknown>> = Record<string, Record<string, unknown>>,\r\n>(\r\n  options: VuexStoreOptions<State, Mutations, Actions, Getters, RootState, RootGetters, Modules>\r\n): VuexStore<State, Getters, Modules> {\r\n  const modules = options.modules || {};\r\n\r\n  const _modules: Record<string, { storeX: StoreObj; namespaced: boolean }> = {};\r\n\r\n  const _getters: GettersMap = {};\r\n\r\n  const vuexStore: VuexStore = {\r\n    state: new Proxy(\r\n      {},\r\n      {\r\n        get: (_, key) => {\r\n          if (key in _modules) {\r\n            const storeX = _modules[key as string].storeX;\r\n            return storeX;\r\n          } else {\r\n            return rootStoreX[key as string];\r\n          }\r\n        },\r\n      }\r\n    ),\r\n    getters: new Proxy(\r\n      {},\r\n      {\r\n        get: (_, key) => {\r\n          if (typeof key === 'string') {\r\n            // 如果key包含/，说明是访问模块的getters，进行split\r\n            if (key.includes('/')) {\r\n              const [moduleName, getterKey] = key.split('/');\r\n              const storeX = _modules[moduleName].storeX;\r\n              return storeX[`${GETTER_PREFIX}${getterKey}`];\r\n            } else {\r\n              return _getters[`${GETTER_PREFIX}${key}`];\r\n            }\r\n          }\r\n        },\r\n      }\r\n    ),\r\n    commit: (_type, _payload, _options, moduleName) => {\r\n      const { type, payload, options } = prepareTypeParams(_type, _payload, _options);\r\n      // 如果options.root为true，调用根store的action\r\n      if (options?.root) {\r\n        return rootStoreX[`${MUTATION_PREFIX}${type}`](payload);\r\n      }\r\n\r\n      // 包含/，说明是访问模块的mutation\r\n      if (type.includes('/')) {\r\n        const [moduleName, key] = type.split('/');\r\n        return _modules[moduleName].storeX[`${MUTATION_PREFIX}${key}`](payload);\r\n      }\r\n\r\n      if (moduleName != undefined) {\r\n        // dispatch到指定的module\r\n        return _modules[moduleName].storeX[`${MUTATION_PREFIX}${type}`](payload);\r\n      }\r\n\r\n      // 调用所有非namespaced的modules的mutation\r\n      Object.values(_modules).forEach(module => {\r\n        if (!module.namespaced) {\r\n          const mutation = module.storeX[`${MUTATION_PREFIX}${type}`];\r\n          if (typeof mutation === 'function') {\r\n            mutation(payload);\r\n          }\r\n        }\r\n      });\r\n\r\n      // 调用storeX对象上的方法\r\n      if (rootStoreX[`${MUTATION_PREFIX}${type}`]) {\r\n        rootStoreX[`${MUTATION_PREFIX}${type}`](payload);\r\n      }\r\n    },\r\n    dispatch: (_type, _payload, _options, moduleName) => {\r\n      const { type, payload, options } = prepareTypeParams(_type, _payload, _options);\r\n      // 如果options.root为true，调用根store的action\r\n      if (options?.root) {\r\n        return rootStoreX[type](payload);\r\n      }\r\n\r\n      // 包含/，说明是访问模块的action\r\n      if (type.includes('/')) {\r\n        const [moduleName, key] = type.split('/');\r\n        return _modules[moduleName].storeX[key](payload);\r\n      }\r\n\r\n      if (moduleName != undefined) {\r\n        // dispatch到指定的module\r\n        return _modules[moduleName].storeX[type](payload);\r\n      }\r\n\r\n      // 把每个action的返回值合并起来，支持then链式调用\r\n      const results: any[] = [];\r\n\r\n      // 调用所有非namespaced的modules的action\r\n      Object.values(_modules).forEach(module => {\r\n        if (!module.namespaced) {\r\n          const action = module.storeX[type];\r\n          if (typeof action === 'function') {\r\n            results.push(action(payload));\r\n          }\r\n        }\r\n      });\r\n\r\n      // 调用storeX对象上的方法\r\n      if (typeof rootStoreX[type] === 'function') {\r\n        results.push(rootStoreX[type](payload));\r\n      }\r\n\r\n      // 返回一个Promise，内容是results，支持then链式调用\r\n      return Promise.all(results);\r\n    },\r\n    subscribe(fn) {\r\n      return rootStoreX.$subscribe(fn);\r\n    },\r\n    subscribeAction(fn) {\r\n      return rootStoreX.$subscribe(fn);\r\n    },\r\n    watch(fn, cb) {\r\n      watch(() => fn(vuexStore.state, vuexStore.getters), cb);\r\n    },\r\n    // 动态注册模块\r\n    registerModule(key, module) {\r\n      _modules[key] = { storeX: _createStoreX(key, module, vuexStore, rootStoreX), namespaced: !!module.namespaced };\r\n      collectGetters(_modules[key].storeX, _getters);\r\n    },\r\n    // 动态注销模块\r\n    unregisterModule(moduleName) {\r\n      deleteGetters(_modules[moduleName].storeX, _getters);\r\n      delete _modules[moduleName];\r\n    },\r\n    hasModule(moduleName) {\r\n      return moduleName in _modules;\r\n    },\r\n    getModule(moduleName) {\r\n      return _modules[moduleName]?.storeX;\r\n    },\r\n    install(app, key) {\r\n      registerStore(this, key || storeKey);\r\n    },\r\n  };\r\n\r\n  const rootStoreX = _createStoreX(undefined, options as VuexStoreOptions, vuexStore);\r\n  collectGetters(rootStoreX, _getters);\r\n\r\n  // 递归创建子模块\r\n  for (const [moduleName, moduleOptions] of Object.entries(modules)) {\r\n    _modules[moduleName] = {\r\n      storeX: _createStoreX(moduleName, moduleOptions as VuexStoreOptions, vuexStore, rootStoreX),\r\n      namespaced: !!(moduleOptions as VuexStoreOptions).namespaced,\r\n    };\r\n    collectGetters(_modules[moduleName].storeX, _getters);\r\n  }\r\n\r\n  return vuexStore as VuexStore<State, Getters, Modules>;\r\n}\r\n\r\nexport function prepareTypeParams(\r\n  type: string | (Record<string, unknown> & { type: string }),\r\n  payload?: any,\r\n  options?: Record<string, unknown>\r\n) {\r\n  if (typeof type === 'object' && type.type) {\r\n    options = payload;\r\n    payload = type;\r\n    type = type.type;\r\n  }\r\n\r\n  return { type, payload, options } as {\r\n    type: string;\r\n    payload: any;\r\n    options: Record<string, unknown>;\r\n  };\r\n}\r\n\r\nfunction _createStoreX(\r\n  moduleName: string | undefined,\r\n  options: VuexStoreOptions,\r\n  store: VuexStore,\r\n  rootStoreX?: any\r\n): StoreObj {\r\n  const { mutations = {}, actions = {}, getters = {} } = options;\r\n  const state = typeof options.state === 'function' ? options.state() : options.state;\r\n\r\n  const getStoreX: () => StoreObj = createStoreX({\r\n    id: moduleName,\r\n    state: state,\r\n    actions: {\r\n      // 给mutations的key增加一个前缀，避免和actions的key冲突\r\n      ...Object.fromEntries(\r\n        Object.entries(mutations).map(([key, mutation]) => {\r\n          return [`${MUTATION_PREFIX}${key}`, mutation];\r\n        })\r\n      ),\r\n      // 重新定义action的方法，绑定this，修改第一参数\r\n      ...Object.fromEntries(\r\n        Object.entries(actions).map(([key, action]) => [\r\n          key,\r\n          function (this: StoreObj, state: Record<string, unknown>, payload) {\r\n            rootStoreX = rootStoreX || storeX;\r\n            const argFirst = {\r\n              ...store,\r\n              // 覆盖commit方法，多传一个参数moduleName\r\n              commit: (\r\n                type: string | (Record<string, unknown> & { type: string }),\r\n                payload?: any,\r\n                options?: Record<string, unknown>\r\n              ) => {\r\n                store.commit(type, payload, options, moduleName);\r\n              },\r\n              // 覆盖dispatch方法，多传一个参数moduleName\r\n              dispatch: (\r\n                type: string | (Record<string, unknown> & { type: string }),\r\n                payload?: any,\r\n                options?: Record<string, unknown>\r\n              ) => {\r\n                return store.dispatch(type, payload, options, moduleName);\r\n              },\r\n              state: storeX.$state,\r\n              rootState: store.state,\r\n              getter: store.getters,\r\n              rootGetters: moduleGettersProxy(rootStoreX),\r\n            };\r\n\r\n            return action.call(storeX, argFirst, payload);\r\n          },\r\n        ])\r\n      ),\r\n    },\r\n    computed: {\r\n      ...Object.fromEntries(\r\n        Object.entries(getters).map(([key, getter]) => {\r\n          return [\r\n            // 给getters的key增加一个前缀，避免和actions, mutations的key冲突\r\n            `${GETTER_PREFIX}${key}`,\r\n            // 重新定义getter的方法，绑定this，修改参数: state, getters, rootState, rootGetters\r\n            function (state: Record<string, unknown>) {\r\n              rootStoreX = rootStoreX || storeX;\r\n              return getter.call(\r\n                storeX,\r\n                storeX.$state,\r\n                store.getters,\r\n                rootStoreX.$state,\r\n                moduleGettersProxy(rootStoreX)\r\n              );\r\n            },\r\n          ];\r\n        })\r\n      ),\r\n    },\r\n  });\r\n\r\n  const storeX = getStoreX();\r\n  if (getStoreXCache === null) {\r\n    getStoreXCache = getStoreX;\r\n  }\r\n\r\n  return storeX;\r\n}\r\n\r\nfunction collectGetters(storeX: StoreObj, gettersMap: GettersMap): void {\r\n  Object.keys(storeX.$config.computed).forEach(type => {\r\n    Object.defineProperty(gettersMap, type, {\r\n      get: () => {\r\n        return storeX.$c[type];\r\n      },\r\n      configurable: true,\r\n    });\r\n  });\r\n}\r\n\r\nfunction deleteGetters(storeX: StoreObj, gettersMap: GettersMap): void {\r\n  Object.keys(storeX.$config.computed).forEach(type => {\r\n    // 删除Object.defineProperty定义的属性\r\n    Object.defineProperty(gettersMap, type, {\r\n      value: undefined,\r\n      writable: true,\r\n      enumerable: true,\r\n      configurable: true,\r\n    });\r\n    delete gettersMap[type];\r\n  });\r\n}\r\n\r\nexport function moduleGettersProxy(storeX: StoreObj) {\r\n  return new Proxy(\r\n    {},\r\n    {\r\n      get: (_, key) => {\r\n        return storeX[`${GETTER_PREFIX}${key as string}`];\r\n      },\r\n    }\r\n  );\r\n}\r\n\r\nexport const storeKey = 'DEFAULT_VUEX_STORE';\r\n\r\nexport function useStore(key = storeKey) {\r\n  getStoreXCache!();\r\n  return storeMap.get(key);\r\n}\r\n\r\nexport function registerStore(store: VuexStore, key = storeKey) {\r\n  storeMap.set(key, store);\r\n}\r\n","/*\r\n * Copyright (c) 2024 Huawei Technologies Co.,Ltd.\r\n *\r\n * openInula is licensed under Mulan PSL v2.\r\n * You can use this software according to the terms and conditions of the Mulan PSL v2.\r\n * You may obtain a copy of Mulan PSL v2 at:\r\n *\r\n *          http://license.coscl.org.cn/MulanPSL2\r\n *\r\n * THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND,\r\n * EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,\r\n * MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.\r\n * See the Mulan PSL v2 for more details.\r\n */\r\n\r\nimport { moduleGettersProxy, useStore } from './vuex';\r\nimport { vueReactive, useRef, ComputedImpl } from '@cloudsop/horizon';\r\n\r\nconst { computed } = vueReactive;\r\n\r\nexport const useMapState = (moduleName, states) => {\r\n  const store = useStore();\r\n  const objRef = useRef<null | { [key: string]: ComputedImpl }>(null);\r\n  if (objRef.current === null) {\r\n    if (typeof moduleName !== 'string') {\r\n      states = moduleName;\r\n      moduleName = '';\r\n    }\r\n\r\n    objRef.current = {};\r\n\r\n    toArray(states).forEach(({ key, val }) => {\r\n      let state = store.state;\r\n      let getters = store.getters;\r\n      if (moduleName) {\r\n        const storeX = store.getModule(moduleName);\r\n        if (!storeX) {\r\n          return;\r\n        }\r\n        state = storeX.$state;\r\n        getters = moduleGettersProxy(storeX);\r\n      }\r\n\r\n      if (typeof val === 'function') {\r\n        objRef.current![key] = computed(function () {\r\n          return val(state, getters);\r\n        });\r\n      } else {\r\n        objRef.current![key] = computed(function () {\r\n          return state[val];\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  return objRef.current;\r\n};\r\n\r\nexport const useMapGetters = (moduleName, getters) => {\r\n  const store = useStore();\r\n  const objRef = useRef<null | { [key: string]: ComputedImpl }>(null);\r\n  if (objRef.current === null) {\r\n    if (typeof moduleName !== 'string') {\r\n      getters = moduleName;\r\n      moduleName = '';\r\n    }\r\n\r\n    objRef.current = {};\r\n\r\n    toArray(getters).forEach(({ key, val }) => {\r\n      if (moduleName) {\r\n        val = `${moduleName}/${val}`;\r\n      }\r\n\r\n      objRef.current![key] = computed(function () {\r\n        return store.getters[val];\r\n      });\r\n    });\r\n  }\r\n\r\n  return objRef.current;\r\n};\r\n\r\nexport const useMapMutations = (moduleName, mutations) => {\r\n  const store = useStore();\r\n  const objRef = useRef<null | { [key: string]: () => any }>(null);\r\n  if (objRef.current === null) {\r\n    if (typeof moduleName !== 'string') {\r\n      mutations = moduleName;\r\n      moduleName = '';\r\n    }\r\n\r\n    objRef.current = {};\r\n\r\n    toArray(mutations).forEach(({ key, val }) => {\r\n      let commit = store.commit;\r\n\r\n      if (moduleName) {\r\n        commit = (...args) => {\r\n          store.commit(args[0], args[1], args[2], moduleName);\r\n        };\r\n      }\r\n\r\n      if (typeof val === 'function') {\r\n        objRef.current![key] = function (...args) {\r\n          return val.apply(this, [commit].concat(args));\r\n        };\r\n      } else {\r\n        objRef.current![key] = function (...args) {\r\n          return commit.apply(store, [val].concat(args));\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  return objRef.current;\r\n};\r\n\r\nexport const useMapActions = (moduleName, actions) => {\r\n  const store = useStore();\r\n  const objRef = useRef<null | { [key: string]: () => any }>(null);\r\n  if (objRef.current === null) {\r\n    if (typeof moduleName !== 'string') {\r\n      actions = moduleName;\r\n      moduleName = '';\r\n    }\r\n\r\n    objRef.current = {};\r\n\r\n    toArray(actions).forEach(({ key, val }) => {\r\n      let dispatch = store.dispatch;\r\n\r\n      if (moduleName) {\r\n        dispatch = (...args) => {\r\n          store.dispatch(args[0], args[1], args[2], moduleName);\r\n        };\r\n      }\r\n\r\n      if (typeof val === 'function') {\r\n        objRef.current![key] = function (...args) {\r\n          return val.apply(this, [dispatch].concat(args));\r\n        };\r\n      } else {\r\n        objRef.current![key] = function (...args) {\r\n          return dispatch.apply(store, [val].concat(args));\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  return objRef.current;\r\n};\r\n\r\nfunction toArray(map) {\r\n  if (!(Array.isArray(map) || (map !== null && typeof map === 'object'))) {\r\n    return [];\r\n  }\r\n  return Array.isArray(map)\r\n    ? map.map(key => ({ key, val: key }))\r\n    : Object.keys(map).map(key => ({ key, val: map[key] }));\r\n}\r\n"],"names":["_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","watch","vueReactive","useComputed","computed","MUTATION_PREFIX","GETTER_PREFIX","storeMap","Map","getStoreXCache","createStore","options","modules","_modules","_getters","vuexStore","state","Proxy","get","_","storeX","rootStoreX","getters","includes","_key$split","split","moduleName","getterKey","commit","_type","_payload","_options","_prepareTypeParams","prepareTypeParams","type","payload","root","_type$split","undefined","values","forEach","module","namespaced","mutation","dispatch","_prepareTypeParams2","_type$split2","results","action","push","Promise","all","subscribe","fn","$subscribe","subscribeAction","cb","registerModule","_createStoreX","collectGetters","unregisterModule","deleteGetters","hasModule","getModule","_modules$moduleName","install","app","registerStore","storeKey","_i","_Object$entries","entries","_Object$entries$_i","moduleOptions","store","_options$mutations","mutations","_options$actions","actions","_options$getters","getStoreX","createStoreX","id","fromEntries","map","_ref","_ref2","argFirst","$state","rootState","getter","rootGetters","moduleGettersProxy","_ref3","gettersMap","keys","$config","defineProperty","$c","configurable","value","writable","enumerable","useStore","set","useMapState","states","objRef","useRef","current","toArray","val","useMapGetters","useMapMutations","_len","args","Array","_key","concat","_len2","_key2","useMapActions","_ref4","_len3","_key3","_len4","_key4","isArray"],"mappings":"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"}